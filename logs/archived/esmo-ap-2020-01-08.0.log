2020-01-08 08:50:07,228 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 3712 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 08:50:07,253 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 08:50:16,594 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 08:50:16,696 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 08:50:16,790 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 08:50:16,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 08:50:16,866 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 08:50:16,937 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 08:50:17,244 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 08:50:17,245 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 9731 ms
2020-01-08 08:50:20,995 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 08:50:21,062 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T10:50:19.767Z' ('2020-01-08T11:50:19.767+01:00' local time)
2020-01-08 08:50:21,102 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 08:50:21,122 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 08:50:21,123 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 08:50:21,127 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 08:50:21,132 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 08:50:21,133 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 08:50:21,556 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@643a5ca8]
2020-01-08 08:50:21,557 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@540b82d0]
2020-01-08 08:50:21,559 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@42c2e0ef]
2020-01-08 08:50:21,560 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7d81a51c]
2020-01-08 08:50:21,568 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4c55973b]
2020-01-08 08:50:21,938 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 08:50:22,835 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 08:50:24,093 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@460693eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40c57fef, org.springframework.security.web.context.SecurityContextPersistenceFilter@717508b5, org.springframework.security.web.header.HeaderWriterFilter@6196b665, org.springframework.security.web.authentication.logout.LogoutFilter@587b6877, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@643a5ca8]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@540b82d0]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@42c2e0ef]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7d81a51c]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4c55973b]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58e04aef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3326464b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@458aa055, org.springframework.security.web.session.SessionManagementFilter@3801dde, org.springframework.security.web.access.ExceptionTranslationFilter@7c69b76d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e3f195a]
2020-01-08 08:50:24,305 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 08:50:25,561 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 08:50:25,650 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 08:50:25,677 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 20.441 seconds (JVM running for 32.771)
2020-01-08 08:50:53,171 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 08:50:53,192 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 08:50:53,270 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 77 ms
2020-01-08 08:50:53,399 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 08:50:53,542 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 08:50:54,307 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 08:50:54,373 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 08:50:54,384 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 08:50:54,533 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 08:50:55,310 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 08:57:18,426 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 08:57:18,445 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 08:57:18,447 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 08:57:18,531 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 08:57:18,679 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 08:57:42,148 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 08:57:53,065 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 08:58:09,882 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 09:29:14,828 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 09:33:02,434 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 09:33:02,443 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 09:33:02,449 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 09:33:02,527 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 09:33:02,855 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 10:01:52,138 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 10:01:57,755 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 10:02:12,154 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5410 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 10:02:12,160 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 10:02:19,710 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 10:02:19,776 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:02:19,804 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 10:02:19,845 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 10:02:19,846 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 10:02:19,863 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 10:02:20,049 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 10:02:20,061 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7724 ms
2020-01-08 10:02:22,673 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 10:02:22,711 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T12:02:21.800Z' ('2020-01-08T13:02:21.800+01:00' local time)
2020-01-08 10:02:22,733 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 10:02:22,763 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 10:02:22,763 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 10:02:22,765 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 10:02:22,773 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 10:02:22,774 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 10:02:23,189 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@29c46b18]
2020-01-08 10:02:23,191 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@666db3b]
2020-01-08 10:02:23,192 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55cc7841]
2020-01-08 10:02:23,193 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7af42e8c]
2020-01-08 10:02:23,194 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2d4d041b]
2020-01-08 10:02:23,451 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 10:02:24,302 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 10:02:25,714 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@1e698a02, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59fbca9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2802c3f2, org.springframework.security.web.header.HeaderWriterFilter@7d4b7e07, org.springframework.security.web.authentication.logout.LogoutFilter@3fd3028e, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@29c46b18]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@666db3b]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55cc7841]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7af42e8c]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2d4d041b]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2101cd6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cd8d513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2521552e, org.springframework.security.web.session.SessionManagementFilter@4a387ea1, org.springframework.security.web.access.ExceptionTranslationFilter@3cf8bdf4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e7eac03]
2020-01-08 10:02:25,824 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:02:26,423 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 10:02:26,470 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 10:02:26,500 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 15.846 seconds (JVM running for 26.021)
2020-01-08 10:02:26,644 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 10:02:26,650 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 10:02:26,684 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 34 ms
2020-01-08 10:02:26,710 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 10:02:26,824 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 10:02:27,165 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 10:02:27,174 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 10:02:27,184 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 10:02:27,258 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 10:02:27,676 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 10:04:03,420 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 10:04:10,986 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 10:04:32,475 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5707 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 10:04:32,494 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 10:04:41,481 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 10:04:41,557 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:04:41,638 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 10:04:41,682 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 10:04:41,684 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 10:04:41,785 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 10:04:41,986 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 10:04:41,987 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8970 ms
2020-01-08 10:04:44,693 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 10:04:44,755 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T12:04:43.577Z' ('2020-01-08T13:04:43.577+01:00' local time)
2020-01-08 10:04:44,814 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 10:04:44,839 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 10:04:44,840 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 10:04:44,853 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 10:04:44,855 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 10:04:44,857 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 10:04:45,401 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@398c2296]
2020-01-08 10:04:45,403 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@53eba418]
2020-01-08 10:04:45,405 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@d213ec0]
2020-01-08 10:04:45,407 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@51ac308f]
2020-01-08 10:04:45,426 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@123a5b7c]
2020-01-08 10:04:45,823 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 10:04:46,935 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 10:04:48,240 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@688376e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5880014e, org.springframework.security.web.context.SecurityContextPersistenceFilter@54c0d0e5, org.springframework.security.web.header.HeaderWriterFilter@2ac4a37b, org.springframework.security.web.authentication.logout.LogoutFilter@64a92bfd, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@398c2296]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@53eba418]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@d213ec0]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@51ac308f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@123a5b7c]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@440efaf6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5abb1104, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74b2292d, org.springframework.security.web.session.SessionManagementFilter@263ebc84, org.springframework.security.web.access.ExceptionTranslationFilter@1bdbacfb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ee904db]
2020-01-08 10:04:48,519 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:04:49,326 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 10:04:49,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 10:04:49,367 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 18.953 seconds (JVM running for 29.422)
2020-01-08 10:04:49,531 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 10:04:49,533 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 10:04:49,579 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 45 ms
2020-01-08 10:04:49,673 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 10:04:49,851 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 10:04:50,366 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 10:04:50,403 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 10:04:50,414 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 10:04:50,537 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 10:04:51,225 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 10:05:50,184 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 10:09:03,393 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5879 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 10:09:03,410 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 10:09:08,707 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 10:09:08,826 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:09:08,912 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 10:09:08,955 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 10:09:08,961 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 10:09:09,022 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 10:09:09,258 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 10:09:09,259 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5691 ms
2020-01-08 10:09:30,652 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [main] Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
2020-01-08 10:09:30,671 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Error occurred while attempting to refresh metadata from 'https://idp.aegean.es/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-08 10:09:30,716 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.es/idp/shibboleth' will occur on '2020-01-08T09:14:30.690Z' ('2020-01-08T10:14:30.690+01:00' local time)
2020-01-08 10:09:30,766 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [main] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 92 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-08 10:09:30,773 ERROR org.springframework.security.saml.metadata.MetadataManager [main] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@45936db5 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 92 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-08 10:09:30,784 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [Metadata-reload] Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2020-01-08 10:09:30,788 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Error occurred while attempting to refresh metadata from 'https://idp.aegean.es/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:09:30,794 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Next refresh cycle for metadata provider 'https://idp.aegean.es/idp/shibboleth' will occur on '2020-01-08T09:14:30.794Z' ('2020-01-08T10:14:30.794+01:00' local time)
2020-01-08 10:09:30,795 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [Metadata-reload] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:09:30,810 ERROR org.springframework.security.saml.metadata.MetadataManager [Metadata-reload] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@45936db5 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:09:30,831 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 10:09:30,845 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 10:09:30,846 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 10:09:30,847 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 10:09:30,848 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 10:09:30,848 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 10:09:31,192 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@71b2eaa0]
2020-01-08 10:09:31,193 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@5e03d242]
2020-01-08 10:09:31,194 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7c15d213]
2020-01-08 10:09:31,195 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@a9a6176]
2020-01-08 10:09:31,195 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@652ac2c7]
2020-01-08 10:09:31,480 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 10:09:32,415 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 10:09:33,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@74f0ae11, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c454e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@75346cfb, org.springframework.security.web.header.HeaderWriterFilter@2cd550d7, org.springframework.security.web.authentication.logout.LogoutFilter@736ce2f5, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@71b2eaa0]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@5e03d242]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7c15d213]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@a9a6176]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@652ac2c7]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f7ea369, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cb4f61c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb94910, org.springframework.security.web.session.SessionManagementFilter@6cf1a3c6, org.springframework.security.web.access.ExceptionTranslationFilter@6dd3aec8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@166dec2c]
2020-01-08 10:09:33,613 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:09:34,529 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 10:09:34,572 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 10:09:34,583 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 32.378 seconds (JVM running for 39.948)
2020-01-08 10:09:34,792 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 10:09:34,793 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 10:09:34,836 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 41 ms
2020-01-08 10:09:34,889 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 10:09:35,016 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 10:09:35,023 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [http-nio-8080-exec-1] Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-08 10:09:35,032 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [http-nio-8080-exec-1] Error occurred while attempting to refresh metadata from 'https://idp.aegean.es/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-08 10:09:35,034 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [http-nio-8080-exec-1] Next refresh cycle for metadata provider 'https://idp.aegean.es/idp/shibboleth' will occur on '2020-01-08T09:14:35.034Z' ('2020-01-08T10:14:35.034+01:00' local time)
2020-01-08 10:09:35,035 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [http-nio-8080-exec-1] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 47 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-08 10:09:35,037 ERROR org.springframework.security.saml.metadata.MetadataManager [http-nio-8080-exec-1] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@45936db5 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 47 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-08 10:09:35,476 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 10:09:35,507 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 10:09:35,513 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 10:09:35,637 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 10:09:35,853 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause
org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP
	at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:834)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127)
	at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:145)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:106)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-08 10:09:50,871 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [Metadata-reload] Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2020-01-08 10:09:50,878 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Error occurred while attempting to refresh metadata from 'https://idp.aegean.es/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:09:50,889 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Next refresh cycle for metadata provider 'https://idp.aegean.es/idp/shibboleth' will occur on '2020-01-08T09:14:50.889Z' ('2020-01-08T10:14:50.889+01:00' local time)
2020-01-08 10:09:50,896 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [Metadata-reload] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:09:50,899 ERROR org.springframework.security.saml.metadata.MetadataManager [Metadata-reload] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@45936db5 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.aegean.es/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.aegean.es
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-08 10:12:08,062 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 10:12:22,332 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6052 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 10:12:22,339 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 10:12:27,502 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 10:12:27,529 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:12:27,570 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 10:12:27,592 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 10:12:27,599 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 10:12:27,635 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 10:12:27,898 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 10:12:27,900 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5181 ms
2020-01-08 10:12:31,716 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://eid-proxy.aai-dev.grnet.gr/Saml2IDP/proxy.xml'
2020-01-08 10:12:31,750 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://eid-proxy.aai-dev.grnet.gr/Saml2IDP/proxy.xml' will occur on '2020-01-08T12:12:29.575Z' ('2020-01-08T13:12:29.575+01:00' local time)
2020-01-08 10:12:31,778 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 10:12:31,806 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 10:12:31,808 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 10:12:31,822 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 10:12:31,824 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 10:12:31,830 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 10:12:32,277 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@63a84c1e]
2020-01-08 10:12:32,278 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4f2512d6]
2020-01-08 10:12:32,279 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4524d132]
2020-01-08 10:12:32,280 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@8a3e150]
2020-01-08 10:12:32,296 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@c51c892]
2020-01-08 10:12:32,585 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 10:12:33,063 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 10:12:33,769 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3fc37c87, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6164724c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ad435cd, org.springframework.security.web.header.HeaderWriterFilter@57f00eab, org.springframework.security.web.authentication.logout.LogoutFilter@37dd6374, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@63a84c1e]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4f2512d6]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4524d132]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@8a3e150]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@c51c892]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79474a07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f5dce7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@637a9705, org.springframework.security.web.session.SessionManagementFilter@717dd08d, org.springframework.security.web.access.ExceptionTranslationFilter@3a979ca9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53611ee3]
2020-01-08 10:12:33,978 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:12:34,354 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 10:12:34,379 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 10:12:34,390 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.516 seconds (JVM running for 22.941)
2020-01-08 10:12:49,139 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 10:12:49,141 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 10:12:49,175 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 32 ms
2020-01-08 10:12:49,222 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 10:12:49,337 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 10:12:49,944 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 10:12:49,982 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 10:12:49,984 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 10:12:50,139 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 10:12:50,502 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://eid-proxy.aai-dev.grnet.gr/Saml2IDP/proxy.xml;anonymousUser;;
2020-01-08 10:13:19,929 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://eid-proxy.aai-dev.grnet.gr/Saml2IDP/proxy.xml;anonymousUser;;
2020-01-08 10:20:03,526 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 10:20:03,534 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 10:20:03,544 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 10:20:03,610 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 10:20:03,736 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://eid-proxy.aai-dev.grnet.gr/Saml2IDP/proxy.xml;anonymousUser;;
2020-01-08 10:36:06,903 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 10:36:23,772 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6381 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 10:36:23,789 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 10:36:29,741 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 10:36:29,783 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:36:29,834 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 10:36:29,915 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 10:36:29,924 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 10:36:29,982 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 10:36:30,341 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 10:36:30,342 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6341 ms
2020-01-08 10:36:32,710 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 10:36:32,760 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T12:36:31.757Z' ('2020-01-08T13:36:31.757+01:00' local time)
2020-01-08 10:36:32,797 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 10:36:32,827 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 10:36:32,828 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 10:36:32,832 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 10:36:32,832 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 10:36:32,833 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 10:36:33,201 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@28ab11cd]
2020-01-08 10:36:33,202 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4817b53]
2020-01-08 10:36:33,203 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5c6ed084]
2020-01-08 10:36:33,203 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6d67c4e7]
2020-01-08 10:36:33,204 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@77b43855]
2020-01-08 10:36:33,436 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 10:36:34,065 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 10:36:34,907 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@1957649e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d68204a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2898e6f1, org.springframework.security.web.header.HeaderWriterFilter@65ab6bdf, org.springframework.security.web.authentication.logout.LogoutFilter@6c9902bd, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@28ab11cd]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4817b53]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5c6ed084]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6d67c4e7]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@77b43855]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b6081d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@684195a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2be7a32d, org.springframework.security.web.session.SessionManagementFilter@1563d1e7, org.springframework.security.web.access.ExceptionTranslationFilter@2e35f78, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d0f619c]
2020-01-08 10:36:35,140 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 10:36:36,009 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 10:36:36,030 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 10:36:36,041 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.485 seconds (JVM running for 21.965)
2020-01-08 10:37:28,329 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 10:37:28,343 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2020-01-08 10:37:28,423 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 79 ms
2020-01-08 10:37:28,495 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 10:37:28,706 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 10:37:29,226 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 14:29:09,031 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 14:29:09,037 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T16:29:04.109Z' ('2020-01-08T17:29:04.109+01:00' local time)
2020-01-08 15:43:09,506 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 15:43:34,297 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 9102 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 15:43:34,320 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 15:43:41,888 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 15:43:41,963 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 15:43:42,082 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 15:43:42,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 15:43:42,201 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 15:43:42,269 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 15:43:42,583 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 15:43:42,585 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7973 ms
2020-01-08 15:43:45,134 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 15:43:45,201 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T17:43:43.974Z' ('2020-01-08T18:43:43.974+01:00' local time)
2020-01-08 15:43:45,232 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 15:43:45,245 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 15:43:45,247 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 15:43:45,249 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 15:43:45,251 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 15:43:45,252 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 15:43:45,660 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1173ddea]
2020-01-08 15:43:45,661 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@8c32a88]
2020-01-08 15:43:45,664 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@f972556]
2020-01-08 15:43:45,665 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1c43dd64]
2020-01-08 15:43:45,685 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5101ffea]
2020-01-08 15:43:46,160 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 15:43:47,154 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:43:48,307 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@2f577772, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16d94fe0, org.springframework.security.web.context.SecurityContextPersistenceFilter@4689f11, org.springframework.security.web.header.HeaderWriterFilter@5db791da, org.springframework.security.web.authentication.logout.LogoutFilter@68316b7e, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1173ddea]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@8c32a88]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@f972556]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1c43dd64]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5101ffea]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d4a8193, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61946b0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@257d4d0, org.springframework.security.web.session.SessionManagementFilter@23a8ed1a, org.springframework.security.web.access.ExceptionTranslationFilter@10dfdb67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57fdb683]
2020-01-08 15:43:48,705 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 15:43:49,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 15:43:49,691 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 15:43:49,696 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 17.93 seconds (JVM running for 35.402)
2020-01-08 15:50:52,151 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 15:50:52,159 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 15:50:52,229 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 65 ms
2020-01-08 15:50:52,329 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 15:50:52,477 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 15:50:52,907 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 15:50:52,917 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 15:50:52,919 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 15:50:53,092 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 15:50:53,673 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 15:51:09,089 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 15:51:09,092 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 15:51:09,101 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 15:51:09,237 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 15:51:09,435 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 15:51:09,875 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 15:51:35,512 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:09:43,583 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 11178 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 18:09:43,599 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 18:09:49,843 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 18:09:49,901 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:09:50,022 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:50,152 ERROR org.apache.juli.logging.DirectJDKLog [main] Failed to initialize component [Connector[HTTP/1.1-8080]]
org.apache.catalina.LifecycleException: Protocol handler initialization failed
	at org.apache.catalina.connector.Connector.initInternal(Connector.java:983)
	at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)
	at org.apache.catalina.core.StandardService.initInternal(StandardService.java:535)
	at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)
	at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:1055)
	at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1085)
	at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1098)
	at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:557)
	at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:74)
	at org.apache.catalina.connector.Connector.initInternal(Connector.java:980)
	... 27 common frames omitted
2020-01-08 18:09:50,162 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 18:09:50,163 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 18:09:50,211 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 18:09:50,436 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 18:09:50,437 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6633 ms
2020-01-08 18:09:52,864 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 18:09:52,923 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T20:09:51.859Z' ('2020-01-08T21:09:51.859+01:00' local time)
2020-01-08 18:09:52,950 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 18:09:52,977 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 18:09:52,991 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 18:09:52,992 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 18:09:52,993 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 18:09:52,996 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 18:09:53,317 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@97b3f51]
2020-01-08 18:09:53,318 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@273c074f]
2020-01-08 18:09:53,318 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@23ef4b0]
2020-01-08 18:09:53,319 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@59a79f46]
2020-01-08 18:09:53,319 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6a47d22e]
2020-01-08 18:09:53,619 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 18:09:54,356 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 18:09:55,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@2bd92493, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9c8d026, org.springframework.security.web.context.SecurityContextPersistenceFilter@393292fa, org.springframework.security.web.header.HeaderWriterFilter@1b97c3a3, org.springframework.security.web.authentication.logout.LogoutFilter@3f2e4d42, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@97b3f51]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@273c074f]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@23ef4b0]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@59a79f46]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6a47d22e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e44ced9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ed9f2e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7078e533, org.springframework.security.web.session.SessionManagementFilter@155add66, org.springframework.security.web.access.ExceptionTranslationFilter@7561587c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@231cc71e]
2020-01-08 18:09:55,498 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:09:55,500 ERROR org.apache.juli.logging.DirectJDKLog [main] Failed to start component [Connector[HTTP/1.1-8443]]
org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1085)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1171)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 20 common frames omitted
2020-01-08 18:09:55,504 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:55,506 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:55,507 ERROR org.apache.juli.logging.DirectJDKLog [main] Failed to start component [Connector[HTTP/1.1-8080]]
org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1085)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1171)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 20 common frames omitted
2020-01-08 18:09:55,544 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:09:55,547 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:55,552 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-08 18:09:55,577 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-08 18:09:55,578 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Metadata-reload] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-08 18:09:55,605 INFO org.apache.juli.logging.DirectJDKLog [main] The stop() method was called on component [StandardServer[-1]] after stop() had already been called. The second call will be ignored.
2020-01-08 18:09:55,607 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:09:55,610 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:09:55,612 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:55,614 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-8080"]
2020-01-08 18:09:55,624 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-08 18:09:55,680 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8443 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8443, or configure this application to listen on another port.

2020-01-08 18:09:55,701 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 18:12:14,691 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-08 18:12:31,243 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 11268 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-08 18:12:31,278 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-08 18:12:37,458 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-08 18:12:37,549 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:12:37,671 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-08 18:12:37,715 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-08 18:12:37,716 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-08 18:12:37,759 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-08 18:12:38,026 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-08 18:12:38,028 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6328 ms
2020-01-08 18:12:40,208 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-08 18:12:40,264 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-08T20:12:39.298Z' ('2020-01-08T21:12:39.298+01:00' local time)
2020-01-08 18:12:40,295 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-08 18:12:40,313 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-08 18:12:40,325 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-08 18:12:40,348 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-08 18:12:40,349 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-08 18:12:40,350 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-08 18:12:40,712 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4fcec89d]
2020-01-08 18:12:40,713 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@117247d2]
2020-01-08 18:12:40,715 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6b6a516d]
2020-01-08 18:12:40,716 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@33b2dbee]
2020-01-08 18:12:40,717 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1db467cb]
2020-01-08 18:12:40,956 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-08 18:12:41,617 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 18:12:42,476 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@19340f6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16db2e0d, org.springframework.security.web.context.SecurityContextPersistenceFilter@112d76d2, org.springframework.security.web.header.HeaderWriterFilter@34229db1, org.springframework.security.web.authentication.logout.LogoutFilter@188e46eb, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4fcec89d]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@117247d2]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6b6a516d]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@33b2dbee]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1db467cb]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@619ddc09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6a50d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2da89226, org.springframework.security.web.session.SessionManagementFilter@36cdd38a, org.springframework.security.web.access.ExceptionTranslationFilter@22a32c31, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ad22e29]
2020-01-08 18:12:42,656 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-08 18:12:43,070 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-08 18:12:43,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-08 18:12:43,097 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.621 seconds (JVM running for 25.89)
2020-01-08 18:12:55,240 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-08 18:12:55,242 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-08 18:12:55,280 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 37 ms
2020-01-08 18:12:55,375 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-08 18:12:55,501 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-08 18:14:01,343 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 18:14:01,369 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 18:14:01,370 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 18:14:01,493 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 18:14:02,056 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:14:23,538 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:14:45,187 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:15:01,173 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:15:15,061 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:15:16,580 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:15:18,318 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:15:19,574 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:15:20,874 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:15:21,927 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:15:23,023 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-08 18:19:01,998 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:19:36,020 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-08 18:19:36,027 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-08 18:19:36,031 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-08 18:19:36,107 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-08 18:19:36,243 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-08 18:19:53,048 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
