2019-04-09 11:50:15,111 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestMinEduService on nikos-Lenovo-V310-15IKB with PID 22402 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 11:50:15,114 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 11:50:16,904 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 11:50:17,949 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 11:50:18,334 INFO org.springframework.boot.StartupInfoLogger [main] Started TestMinEduService in 3.656 seconds (JVM running for 4.551)
2019-04-09 11:50:18,539 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 11:50:21,013 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 11:50:21,019 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 11:50:23,462 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 11:50:24,958 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 11:50:24,966 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 11:50:26,568 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-3] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:04,182 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestMinEduService on nikos-Lenovo-V310-15IKB with PID 22937 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 12:04:04,184 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 12:04:05,679 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 12:04:06,972 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:07,575 INFO org.springframework.boot.StartupInfoLogger [main] Started TestMinEduService in 3.977 seconds (JVM running for 5.163)
2019-04-09 12:04:07,766 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 12:04:09,908 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 12:04:09,912 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 12:04:11,607 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:5dfca064-82da-4dcc-8ca6-268282722af6, selectedUniversity:, responseTimeStamp:2019-04-09T12:04:00+03:00, recievedTimeStamp:2019-04-09T12:04:11.606+03:00, esmoSessionId:esmoSession}
2019-04-09 12:04:11,616 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 12:04:12,851 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 12:04:12,857 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 12:04:14,317 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:1f21ed89-4487-4282-b8d9-30ac1279d9bb, selectedUniversity:, responseTimeStamp:2019-04-09T12:04:00+03:00, recievedTimeStamp:2019-04-09T12:04:14.317+03:00, esmoSessionId:esmoSession}
2019-04-09 12:04:14,368 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 12:04:15,627 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 12:04:15,628 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for amka 05108304675
2019-04-09 12:04:15,630 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student/05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 12:04:17,559 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] result 200260674408
2019-04-09 12:04:17,562 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:a4832a84-f010-4465-8827-a076951a78a0, selectedUniversity:, responseTimeStamp:2019-04-09T12:04:00+03:00, recievedTimeStamp:2019-04-09T12:04:17.561+03:00, esmoSessionId:esmoSession}
2019-04-09 12:04:17,570 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 12:04:18,736 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token 8a41f47a-8322-359a-8eed-d1cec410336f
2019-04-09 12:04:18,737 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for amka 05108304675
2019-04-09 12:04:18,738 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student/05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 12:04:19,363 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] result 200260674408
2019-04-09 12:04:19,364 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:6c55351a-dda7-4ae6-8ab2-e850659c0ea5, selectedUniversity:, responseTimeStamp:2019-04-09T12:04:00+03:00, recievedTimeStamp:2019-04-09T12:04:19.364+03:00, esmoSessionId:esmoSession}
2019-04-09 12:04:19,478 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [esmo.test.ap.apms.ApmsApplicationTests], using SpringBootContextLoader
2019-04-09 12:04:19,479 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [esmo.test.ap.apms.ApmsApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-04-09 12:04:19,481 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [esmo.test.ap.apms.ApmsApplicationTests]: ApmsApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-04-09 12:04:19,492 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration esmo.test.ap.apms.ApmsApplication for test class esmo.test.ap.apms.ApmsApplicationTests
2019-04-09 12:04:19,494 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-04-09 12:04:19,496 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f897dab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@d5d5353, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@242b6e1a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@39a87e72, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d2828c9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a082ff4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@45acdd11, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f0d6038, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@237f7970, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@58f39564]
2019-04-09 12:04:19,549 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplicationTests on nikos-Lenovo-V310-15IKB with PID 22937 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 12:04:19,550 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 12:04:20,184 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 12:04:20,602 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:20,826 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplicationTests in 1.324 seconds (JVM running for 18.414)
2019-04-09 12:04:20,843 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [esmo.test.ap.apms.integration.TestSessisonManagerConnection], using SpringBootContextLoader
2019-04-09 12:04:20,844 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [esmo.test.ap.apms.integration.TestSessisonManagerConnection]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-04-09 12:04:20,867 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-04-09 12:04:20,869 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@759de304, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5649d11a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@294f9d50, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@27443560, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3ddb774f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2582b0ef, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70721c12, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@769bd849, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@101ca8da, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@20a967fe]
2019-04-09 12:04:20,896 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 22937 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 12:04:20,897 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 12:04:21,381 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 12:04:21,657 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:21,883 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 12:04:21,884 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 12:04:21,900 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 14 ms
2019-04-09 12:04:21,916 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 1.044 seconds (JVM running for 19.503)
2019-04-09 12:04:24,483 INFO com.google.code.ssm.spring.SSMCache [main] Put '{"code":"OK","sessionData":{"sessionId":"3f835da1-e868-41f5-92d7-0b29918d0582","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"PAPAGEORGIOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"MARIA\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1966-01-01\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 33dd2a99-8285-4ba6-8548-75b6d68c1917 to cache ApMs
2019-04-09 12:04:25,102 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-3] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:25,111 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 12:04:25,113 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 14:06:55,239 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 30193 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:06:55,247 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 14:06:57,052 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 14:06:57,093 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 14:06:57,116 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 14:06:57,117 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 14:06:57,131 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 14:06:57,236 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 14:06:57,237 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1890 ms
2019-04-09 14:06:57,442 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:06:57,914 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:06:58,223 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 14:06:58,291 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 14:06:58,307 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 3.823 seconds (JVM running for 4.532)
2019-04-09 14:07:33,049 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 30315 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:07:33,051 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 14:07:34,978 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:07:35,652 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:07:36,085 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 14:07:36,086 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 14:07:36,102 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 15 ms
2019-04-09 14:07:36,140 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 3.488 seconds (JVM running for 4.29)
2019-04-09 14:07:37,579 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 14:08:19,261 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-09 14:08:19,261 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-04-09 14:08:19,273 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 10 ms
2019-04-09 14:08:20,162 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"e1a6c551-3753-417b-aa34-f87e1ff7a714","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"PAPAGEORGIOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"MARIA\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1966-01-01\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key ebfb0064-a52b-429e-abf3-12e5c2c19aa4 to cache ApMs
2019-04-09 14:08:57,901 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-7] Cache hit. Get by key ebfb0064-a52b-429e-abf3-12e5c2c19aa4 from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"e1a6c551-3753-417b-aa34-f87e1ff7a714","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"PAPAGEORGIOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"MARIA\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1966-01-01\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:09:49,359 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-7] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at esmo.test.ap.apms.controllers.Controllers.forwardToACM(Controllers.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 14:10:42,344 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-10] Cache hit. Get by key ebfb0064-a52b-429e-abf3-12e5c2c19aa4 from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"e1a6c551-3753-417b-aa34-f87e1ff7a714","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"PAPAGEORGIOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"MARIA\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1966-01-01\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:10:45,677 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at esmo.test.ap.apms.controllers.Controllers.forwardToACM(Controllers.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 14:11:09,582 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-4] Cache hit. Get by key ebfb0064-a52b-429e-abf3-12e5c2c19aa4 from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"e1a6c551-3753-417b-aa34-f87e1ff7a714","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"PAPAGEORGIOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"MARIA\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1966-01-01\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:11:31,866 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at esmo.test.ap.apms.controllers.Controllers.forwardToACM(Controllers.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 14:16:18,562 DEBUG org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator [background-preinit] Loaded expression factory via original TCCL
2019-04-09 14:16:18,839 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 30696 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:16:18,844 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 14:16:20,793 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 14:16:20,845 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 14:16:20,896 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 14:16:20,897 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 14:16:20,922 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 14:16:21,059 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 14:16:21,059 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2078 ms
2019-04-09 14:16:21,317 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:16:21,943 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:16:22,302 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 14:16:22,334 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 14:16:22,338 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 4.229 seconds (JVM running for 4.759)
2019-04-09 14:19:54,103 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 30891 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:19:54,108 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 14:19:55,843 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 14:19:55,864 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 14:19:55,883 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 14:19:55,884 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 14:19:55,898 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 14:19:56,019 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 14:19:56,019 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1810 ms
2019-04-09 14:19:56,203 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:19:56,653 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:19:56,956 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 14:19:57,002 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 14:19:57,005 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 3.538 seconds (JVM running for 3.953)
2019-04-09 14:20:19,787 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 30986 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:20:19,789 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 14:20:21,514 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:20:22,361 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:20:22,782 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 14:20:22,783 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 14:20:22,800 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 16 ms
2019-04-09 14:20:22,835 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 3.509 seconds (JVM running for 4.269)
2019-04-09 14:20:24,138 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 14:20:37,505 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-09 14:20:37,506 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2019-04-09 14:20:37,512 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 6 ms
2019-04-09 14:20:38,301 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-2] Put '{"code":"OK","sessionData":{"sessionId":"1eb11c2e-b4c6-4982-acab-10e357d28773","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"11983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 8c196ac1-cad3-4e7e-8abe-8efb43ff637b to cache ApMs
2019-04-09 14:20:55,547 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-4] Cache hit. Get by key 8c196ac1-cad3-4e7e-8abe-8efb43ff637b from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"1eb11c2e-b4c6-4982-acab-10e357d28773","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"11983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:21:36,935 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-4] ERROR: mismatch between amka date and eIDAS date
2019-04-09 14:23:13,023 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 31256 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:23:13,025 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 14:23:15,134 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:23:15,904 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:23:16,378 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 14:23:16,381 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 14:23:16,401 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 19 ms
2019-04-09 14:23:16,436 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 3.91 seconds (JVM running for 4.646)
2019-04-09 14:23:18,132 INFO com.google.code.ssm.spring.SSMCache [main] Put '{"code":"OK","sessionData":{"sessionId":"7ea4f369-2f50-4be4-905e-cfb8b0654614","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 9182f913-32db-45cd-a5ea-88d83b9ff92f to cache ApMs
2019-04-09 14:23:19,327 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 14:23:35,188 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 31382 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:23:35,190 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 14:23:36,924 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:23:37,661 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:23:38,095 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 14:23:38,096 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 14:23:38,111 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 15 ms
2019-04-09 14:23:38,146 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 3.363 seconds (JVM running for 4.091)
2019-04-09 14:23:39,316 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 14:23:52,831 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-10] Put '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 082ed016-c3a5-4865-a64c-0ea3825bd2ec to cache ApMs
2019-04-09 14:24:03,899 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-4] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:24:14,494 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:24:16,877 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:24:19,155 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] querying for amka 051083
2019-04-09 14:24:19,818 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//051083?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 14:24:34,629 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:79)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at esmo.test.ap.apms.service.impl.MinEduServiceImpl.getAcademicIdFromAMKA(MinEduServiceImpl.java:104)
	at esmo.test.ap.apms.controllers.Controllers.forwardToACM(Controllers.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 14:25:25,849 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-7] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:25:25,852 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-3] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:25:26,207 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-7] reCaptcha was not successfully validated
2019-04-09 14:25:33,033 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:25:35,080 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:25:35,081 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] querying for amka 05108304675
2019-04-09 14:25:35,082 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 14:25:38,153 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] result 200260674408
2019-04-09 14:25:38,161 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] MinEduLog {minEduSessionId:2c06ba14-2186-4bd2-ad19-87f1eee0ec89, selectedUniversity:null, responseTimeStamp:2019-04-09T14:25:00+03:00, recievedTimeStamp:2019-04-09T14:25:38.158+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:25:38,172 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:25:39,688 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:25:39,697 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] querying for academicId 200260674408
2019-04-09 14:25:40,932 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] MinEduLog {minEduSessionId:5d96c96c-f09f-4512-a6be-bd1b7c25faf2, selectedUniversity:null, responseTimeStamp:2019-04-09T14:25:00+03:00, recievedTimeStamp:2019-04-09T14:25:40.931+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:25:41,257 INFO esmo.test.ap.apms.service.impl.NetworkServiceImpl [http-nio-8080-exec-3] request failed will retry
2019-04-09 14:26:03,072 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-9] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:26:04,463 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:26:05,799 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:26:05,801 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] querying for amka 05108304675
2019-04-09 14:26:05,802 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 14:26:07,028 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] result 200260674408
2019-04-09 14:26:07,031 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] MinEduLog {minEduSessionId:dd89a12c-6397-4334-9655-9000367079d9, selectedUniversity:null, responseTimeStamp:2019-04-09T14:26:00+03:00, recievedTimeStamp:2019-04-09T14:26:07.031+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:26:07,041 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:26:08,257 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:26:08,263 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] querying for academicId 200260674408
2019-04-09 14:26:11,133 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] MinEduLog {minEduSessionId:cdc6d089-3ff9-4abd-af52-91e54131f5c3, selectedUniversity:null, responseTimeStamp:2019-04-09T14:26:00+03:00, recievedTimeStamp:2019-04-09T14:26:11.133+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:26:49,700 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-2] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:26:53,908 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:26:55,221 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:26:55,223 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] querying for amka 05108304675
2019-04-09 14:26:55,228 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 14:26:57,510 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] result 200260674408
2019-04-09 14:26:57,513 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] MinEduLog {minEduSessionId:ee5c15bd-30dd-429d-9475-8d042f23778a, selectedUniversity:null, responseTimeStamp:2019-04-09T14:26:00+03:00, recievedTimeStamp:2019-04-09T14:26:57.512+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:26:57,537 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:26:58,694 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:26:58,707 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] querying for academicId 200260674408
2019-04-09 14:26:59,567 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-2] MinEduLog {minEduSessionId:9e921fb1-ce73-46b7-8d29-f4edd7f5507a, selectedUniversity:null, responseTimeStamp:2019-04-09T14:26:00+03:00, recievedTimeStamp:2019-04-09T14:26:59.567+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:27:30,396 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-4] Cache hit. Get by key 082ed016-c3a5-4865-a64c-0ea3825bd2ec from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 14:27:30,696 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:27:32,019 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:27:32,020 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] querying for amka 05108304675
2019-04-09 14:27:32,021 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 14:27:33,145 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] result 200260674408
2019-04-09 14:27:33,149 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] MinEduLog {minEduSessionId:9c272436-cceb-4ba2-afec-73aabebe0592, selectedUniversity:null, responseTimeStamp:2019-04-09T14:27:00+03:00, recievedTimeStamp:2019-04-09T14:27:33.148+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:27:33,164 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 14:27:34,374 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] retrieved token 14a876e8-b26c-3b8f-85c7-7d5cb537e214
2019-04-09 14:27:34,384 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] querying for academicId 200260674408
2019-04-09 14:27:35,918 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-4] MinEduLog {minEduSessionId:274c8856-8c62-4e55-8463-e24deac79140, selectedUniversity:null, responseTimeStamp:2019-04-09T14:27:00+03:00, recievedTimeStamp:2019-04-09T14:27:35.917+03:00, esmoSessionId:{"code":"OK","sessionData":{"sessionId":"41f21291-6d89-476c-81a1-ee8cd695bc58","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}}
2019-04-09 14:29:31,457 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 31803 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 14:29:31,466 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 14:29:33,554 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 14:29:33,576 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 14:29:33,592 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 14:29:33,592 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 14:29:33,605 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 14:29:33,694 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 14:29:33,695 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2131 ms
2019-04-09 14:29:33,930 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 14:29:34,312 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 14:29:34,586 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 14:29:34,625 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 14:29:34,632 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 4.041 seconds (JVM running for 4.504)
2019-04-09 15:57:26,784 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestMinEduService on nikos-Lenovo-V310-15IKB with PID 4487 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 15:57:26,787 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 15:57:28,412 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 15:57:29,354 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 15:57:29,926 INFO org.springframework.boot.StartupInfoLogger [main] Started TestMinEduService in 3.546 seconds (JVM running for 4.331)
2019-04-09 15:57:30,222 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 15:57:32,905 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token c7f6434f-b6e9-3a25-9375-3378961e49fe
2019-04-09 15:57:32,911 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 15:57:35,789 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:16fb1a3c-5caa-400e-8ca0-573ae914b3e2, selectedUniversity:, responseTimeStamp:2019-04-09T15:57:00+03:00, recievedTimeStamp:2019-04-09T15:57:35.789+03:00, esmoSessionId:esmoSession}
2019-04-09 15:57:35,794 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 15:57:37,510 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token c7f6434f-b6e9-3a25-9375-3378961e49fe
2019-04-09 15:57:37,517 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for academicId 200260674408
2019-04-09 15:57:41,275 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:46de90fc-c2af-4488-8f29-7db455500aae, selectedUniversity:, responseTimeStamp:2019-04-09T15:57:00+03:00, recievedTimeStamp:2019-04-09T15:57:41.275+03:00, esmoSessionId:esmoSession}
2019-04-09 15:57:41,299 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 15:57:42,741 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token c7f6434f-b6e9-3a25-9375-3378961e49fe
2019-04-09 15:57:42,741 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for amka 05108304675
2019-04-09 15:57:42,741 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student/05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 15:57:44,753 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] result 200260674408
2019-04-09 15:57:44,754 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:6ac894b9-9902-424e-85cd-9812ce721e75, selectedUniversity:, responseTimeStamp:2019-04-09T15:57:00+03:00, recievedTimeStamp:2019-04-09T15:57:44.754+03:00, esmoSessionId:esmoSession}
2019-04-09 15:57:44,759 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 15:57:46,307 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] retrieved token c7f6434f-b6e9-3a25-9375-3378961e49fe
2019-04-09 15:57:46,309 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] querying for amka 05108304675
2019-04-09 15:57:46,310 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student/05108304675?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 15:57:47,098 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] result 200260674408
2019-04-09 15:57:47,099 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [main] MinEduLog {minEduSessionId:22ab8455-ce87-4880-8a09-2650f21c9551, selectedUniversity:, responseTimeStamp:2019-04-09T15:57:00+03:00, recievedTimeStamp:2019-04-09T15:57:47.099+03:00, esmoSessionId:esmoSession}
2019-04-09 15:57:47,148 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [esmo.test.ap.apms.ApmsApplicationTests], using SpringBootContextLoader
2019-04-09 15:57:47,149 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [esmo.test.ap.apms.ApmsApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-04-09 15:57:47,150 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [esmo.test.ap.apms.ApmsApplicationTests]: ApmsApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-04-09 15:57:47,161 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration esmo.test.ap.apms.ApmsApplication for test class esmo.test.ap.apms.ApmsApplicationTests
2019-04-09 15:57:47,163 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-04-09 15:57:47,164 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@d5d5353, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@242b6e1a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@39a87e72, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5d2828c9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a082ff4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@45acdd11, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3f0d6038, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@237f7970, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58f39564, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b948f3e]
2019-04-09 15:57:47,233 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplicationTests on nikos-Lenovo-V310-15IKB with PID 4487 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 15:57:47,234 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 15:57:48,079 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 15:57:48,497 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 15:57:48,742 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplicationTests in 1.572 seconds (JVM running for 23.147)
2019-04-09 15:57:48,749 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [esmo.test.ap.apms.integration.TestSessisonManagerConnection], using SpringBootContextLoader
2019-04-09 15:57:48,750 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [esmo.test.ap.apms.integration.TestSessisonManagerConnection]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-04-09 15:57:48,764 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-04-09 15:57:48,766 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5649d11a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@294f9d50, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@27443560, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3ddb774f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2582b0ef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@70721c12, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@769bd849, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@101ca8da, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@20a967fe, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@405b6d75]
2019-04-09 15:57:48,797 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 4487 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 15:57:48,797 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 15:57:49,108 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 15:57:49,665 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 15:57:49,916 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 15:57:49,916 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 15:57:49,931 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 14 ms
2019-04-09 15:57:49,947 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 1.178 seconds (JVM running for 24.352)
2019-04-09 15:57:52,701 INFO com.google.code.ssm.spring.SSMCache [main] Put '{"code":"OK","sessionData":{"sessionId":"72b91815-b1d2-4c4c-a05e-56a5857dc1e0","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 3a1010e1-52f8-4407-bc50-46e175e8120c to cache ApMs
2019-04-09 15:57:53,433 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-3] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 15:57:53,443 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 15:57:53,444 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 20:23:47,921 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 29756 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:23:47,930 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 20:23:49,875 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 20:23:49,927 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 20:23:50,078 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 20:23:50,078 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 20:23:50,099 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 20:23:50,215 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 20:23:50,215 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2195 ms
2019-04-09 20:23:50,416 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:23:51,058 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:23:51,531 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 20:23:51,644 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 20:23:51,649 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 4.449 seconds (JVM running for 4.995)
2019-04-09 20:31:01,235 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 30162 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:31:01,238 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 20:31:03,632 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:31:04,365 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:31:04,840 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 20:31:04,840 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 20:31:04,857 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 16 ms
2019-04-09 20:31:04,891 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 4.199 seconds (JVM running for 4.972)
2019-04-09 20:31:06,028 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 20:31:18,174 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-09 20:31:18,176 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-04-09 20:31:18,188 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2019-04-09 20:31:19,035 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"e34915f6-b768-4a07-862f-fb8f643ab5a4","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 47b8d383-81a8-443d-b14c-836fded0c962 to cache ApMs
2019-04-09 20:31:21,571 WARN com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] An error has ocurred for cache ApMs and key 47b8d383-81a8-443d-b14c-836fded0c962
java.lang.RuntimeException: Timed out waiting for operation
	at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:142)
	at com.google.code.ssm.providers.spymemcached.MemcacheClientWrapper.set(MemcacheClientWrapper.java:262)
	at com.google.code.ssm.CacheImpl.set(CacheImpl.java:290)
	at com.google.code.ssm.CacheImpl.set(CacheImpl.java:128)
	at com.google.code.ssm.spring.SSMCache.put(SSMCache.java:198)
	at esmo.test.ap.apms.controllers.Controllers.queryAp(Controllers.java:138)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: net.spy.memcached.internal.CheckedOperationTimeoutException: Timed out waiting for operation - failing node: /172.17.0.1:11211
	at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:167)
	at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:140)
	... 59 common frames omitted
2019-04-09 20:31:21,592 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Timed out waiting for operation] with root cause
net.spy.memcached.internal.CheckedOperationTimeoutException: Timed out waiting for operation - failing node: /172.17.0.1:11211
	at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:167)
	at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:140)
	at com.google.code.ssm.providers.spymemcached.MemcacheClientWrapper.set(MemcacheClientWrapper.java:262)
	at com.google.code.ssm.CacheImpl.set(CacheImpl.java:290)
	at com.google.code.ssm.CacheImpl.set(CacheImpl.java:128)
	at com.google.code.ssm.spring.SSMCache.put(SSMCache.java:198)
	at esmo.test.ap.apms.controllers.Controllers.queryAp(Controllers.java:138)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 20:32:05,542 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 30871 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:32:05,557 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 20:32:08,102 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 20:32:08,145 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 20:32:08,164 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 20:32:08,164 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 20:32:08,180 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 20:32:08,285 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 20:32:08,286 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2654 ms
2019-04-09 20:32:08,510 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:32:09,294 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:32:09,612 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 20:32:09,651 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 20:32:09,663 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.029 seconds (JVM running for 5.806)
2019-04-09 20:32:18,577 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-09 20:32:18,577 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-04-09 20:32:18,589 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2019-04-09 20:32:19,328 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] something wring with the SM session!
2019-04-09 20:32:19,328 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] JWT is blacklisted
2019-04-09 20:32:19,328 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] ERROR
2019-04-09 20:32:38,742 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 31015 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:32:38,746 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 20:32:41,527 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:32:43,075 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:32:44,199 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 20:32:44,200 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 20:32:44,216 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 16 ms
2019-04-09 20:32:44,256 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.34 seconds (JVM running for 7.787)
2019-04-09 20:32:45,528 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 20:32:55,827 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-5] Put '{"code":"OK","sessionData":{"sessionId":"6cb3d8c3-d902-42d7-9843-cf8c73ac9c4d","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 8fd95da9-4608-40e7-a4fb-19a0dbc81bf3 to cache ApMs
2019-04-09 20:33:15,684 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-8] Cache hit. Get by key 8fd95da9-4608-40e7-a4fb-19a0dbc81bf3 from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"6cb3d8c3-d902-42d7-9843-cf8c73ac9c4d","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 20:33:16,737 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-8] ERROR: mismatch between amka date and eIDAS date
2019-04-09 20:33:33,307 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-9] Cache hit. Get by key 8fd95da9-4608-40e7-a4fb-19a0dbc81bf3 from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"6cb3d8c3-d902-42d7-9843-cf8c73ac9c4d","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 20:33:53,948 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 20:33:56,553 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] retrieved token 8a066336-71d3-376a-a1ae-2e25599d472a
2019-04-09 20:33:56,555 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] querying for amka 051083123132
2019-04-09 20:33:56,556 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-9] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//051083123132?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 20:33:59,484 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:79)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at esmo.test.ap.apms.service.impl.MinEduServiceImpl.getAcademicIdFromAMKA(MinEduServiceImpl.java:104)
	at esmo.test.ap.apms.controllers.Controllers.forwardToACM(Controllers.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-09 20:38:15,174 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 31285 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:38:15,183 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-04-09 20:38:17,473 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-04-09 20:38:17,500 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-04-09 20:38:17,517 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-04-09 20:38:17,518 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-09 20:38:17,532 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-09 20:38:17,648 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-04-09 20:38:17,649 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2380 ms
2019-04-09 20:38:18,061 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:38:18,711 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:38:19,013 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-04-09 20:38:19,061 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-04-09 20:38:19,066 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 4.601 seconds (JVM running for 5.13)
2019-04-09 20:38:37,166 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 31408 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-04-09 20:38:37,168 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-04-09 20:38:39,534 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-04-09 20:38:40,607 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 20:38:40,996 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-04-09 20:38:40,997 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-04-09 20:38:41,009 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 12 ms
2019-04-09 20:38:41,044 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 4.574 seconds (JVM running for 5.786)
2019-04-09 20:38:42,678 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-4] Shutting down ExecutorService 'applicationTaskExecutor'
2019-04-09 20:38:57,110 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-09 20:38:57,110 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2019-04-09 20:38:57,121 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 11 ms
2019-04-09 20:38:58,092 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-2] Put '{"code":"OK","sessionData":{"sessionId":"b9300c24-846d-4374-a8d6-99337f53d12a","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key fc35247c-1a4c-4e7f-a7eb-00347235bd8a to cache ApMs
2019-04-09 20:39:09,092 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-3] Cache hit. Get by key fc35247c-1a4c-4e7f-a7eb-00347235bd8a from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"b9300c24-846d-4374-a8d6-99337f53d12a","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-04-09 20:39:10,203 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] will get toke from theurl: https://validation.interoperability.gr:9443/OAUTH2Proxy_1.0.0/services/oauthproxy/authorization/token
2019-04-09 20:39:12,229 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] retrieved token 8a066336-71d3-376a-a1ae-2e25599d472a
2019-04-09 20:39:12,231 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] querying for amka 051083123132
2019-04-09 20:39:12,232 INFO esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] will query amka in theurl: https://gateway.interoperability.gr/academicId/1.0.1/student//051083123132?fields=academicID&username=uaegean&password=k6v5sS4l1s!%
2019-04-09 20:39:15,657 ERROR esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] 400 Bad Request
2019-04-09 20:39:15,658 ERROR esmo.test.ap.apms.service.impl.MinEduServiceImpl [http-nio-8080-exec-3] no token found in response!
2019-04-09 20:39:15,658 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-3] ERROR: No matching AcademicId found for amka 051083123132
