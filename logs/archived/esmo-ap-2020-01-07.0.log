2020-01-07 09:47:58,430 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 4403 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 09:47:58,454 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 09:48:06,051 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 09:48:06,117 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 09:48:06,171 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 09:48:06,200 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 09:48:06,202 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 09:48:06,229 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 09:48:06,447 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 09:48:06,456 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7830 ms
2020-01-07 09:48:09,785 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 09:48:09,852 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T11:48:08.540Z' ('2020-01-07T12:48:08.540+01:00' local time)
2020-01-07 09:48:09,909 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 09:48:09,926 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 09:48:09,927 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 09:48:09,928 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 09:48:09,929 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 09:48:09,929 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 09:48:10,261 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5bcd5ece]
2020-01-07 09:48:10,262 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@71140934]
2020-01-07 09:48:10,264 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@69b0c3ab]
2020-01-07 09:48:10,266 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1c8c8d92]
2020-01-07 09:48:10,267 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@70e40468]
2020-01-07 09:48:10,455 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 09:48:11,469 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 09:48:11,477 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 09:48:11,500 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 09:48:11,512 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 25 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.getSigningKey(KeyStoreServiceImpl.java:75)
	at esmo.test.ap.apms.controllers.SamlControllers.<init>(SamlControllers.java:81)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 27 common frames omitted
2020-01-07 09:50:34,918 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5078 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 09:50:34,937 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 09:50:40,607 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 09:50:40,692 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 09:50:40,798 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 09:50:40,846 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 09:50:40,853 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 09:50:40,886 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 09:50:41,084 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 09:50:41,085 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5971 ms
2020-01-07 09:50:43,595 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 09:50:43,663 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T11:50:42.524Z' ('2020-01-07T12:50:42.524+01:00' local time)
2020-01-07 09:50:43,703 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 09:50:43,715 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 09:50:43,716 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 09:50:43,717 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 09:50:43,718 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 09:50:43,718 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 09:50:44,064 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@13f2f8d8]
2020-01-07 09:50:44,065 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@6d28d90f]
2020-01-07 09:50:44,067 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@12788ef9]
2020-01-07 09:50:44,068 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@57bea119]
2020-01-07 09:50:44,070 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@27132228]
2020-01-07 09:50:44,387 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 09:50:45,436 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 09:50:45,483 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 09:50:45,539 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 09:50:45,574 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 25 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.getSigningKey(KeyStoreServiceImpl.java:75)
	at esmo.test.ap.apms.controllers.SamlControllers.<init>(SamlControllers.java:81)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 27 common frames omitted
2020-01-07 09:55:55,451 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5290 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 09:55:55,472 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 09:56:01,348 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 09:56:01,419 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 09:56:01,507 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 09:56:01,561 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 09:56:01,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 09:56:01,607 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 09:56:01,811 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 09:56:01,812 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6192 ms
2020-01-07 09:56:03,918 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 09:56:03,960 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T11:56:03.026Z' ('2020-01-07T12:56:03.026+01:00' local time)
2020-01-07 09:56:04,002 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 09:56:04,010 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 09:56:04,011 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 09:56:04,017 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 09:56:04,018 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 09:56:04,019 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 09:56:04,346 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4716fda3]
2020-01-07 09:56:04,347 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@34f4da59]
2020-01-07 09:56:04,349 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2c746360]
2020-01-07 09:56:04,349 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@16038bd9]
2020-01-07 09:56:04,350 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@652882e3]
2020-01-07 09:56:04,552 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 09:56:05,571 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 09:56:05,591 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 09:56:05,633 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 09:56:05,638 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 25 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.getSigningKey(KeyStoreServiceImpl.java:75)
	at esmo.test.ap.apms.controllers.SamlControllers.<init>(SamlControllers.java:81)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 27 common frames omitted
2020-01-07 09:59:42,958 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5452 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 09:59:42,969 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 09:59:48,401 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 09:59:48,469 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 09:59:48,507 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 09:59:48,522 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 09:59:48,523 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 09:59:48,559 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 09:59:48,738 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 09:59:48,738 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5612 ms
2020-01-07 09:59:50,632 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 09:59:50,676 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T11:59:49.818Z' ('2020-01-07T12:59:49.818+01:00' local time)
2020-01-07 09:59:50,717 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 09:59:50,749 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 09:59:50,751 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 09:59:50,758 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 09:59:50,760 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 09:59:50,761 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 09:59:51,109 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6e77da1d]
2020-01-07 09:59:51,110 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@6d2875fe]
2020-01-07 09:59:51,111 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5ccc9d99]
2020-01-07 09:59:51,112 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1521bce2]
2020-01-07 09:59:51,113 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4be02464]
2020-01-07 09:59:51,308 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 09:59:52,352 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 09:59:52,382 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 09:59:52,456 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 09:59:52,462 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 25 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.getSigningKey(KeyStoreServiceImpl.java:75)
	at esmo.test.ap.apms.controllers.SamlControllers.<init>(SamlControllers.java:81)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 27 common frames omitted
2020-01-07 10:00:23,891 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5531 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:00:23,899 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:00:28,789 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:00:28,810 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:00:28,846 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:00:28,859 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:00:28,860 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:00:28,872 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:00:29,103 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:00:29,104 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5070 ms
2020-01-07 10:00:29,467 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:00:29,480 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:00:29,482 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:00:29,483 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:00:29,489 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:00:29,490 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:00:30,842 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:00:30,858 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:00:29.982Z' ('2020-01-07T13:00:29.982+01:00' local time)
2020-01-07 10:00:31,223 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@67f77f6e]
2020-01-07 10:00:31,224 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@161aa04a]
2020-01-07 10:00:31,226 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@673c4f6e]
2020-01-07 10:00:31,226 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@493ac8d3]
2020-01-07 10:00:31,227 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2e766822]
2020-01-07 10:00:31,300 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 10:00:32,307 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 10:00:32,314 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 10:00:32,333 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 10:00:32,349 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 19 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 33 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.<init>(KeyStoreServiceImpl.java:59)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 35 common frames omitted
2020-01-07 10:01:30,833 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5630 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:01:30,853 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:01:37,020 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:01:37,064 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:01:37,091 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:01:37,112 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:01:37,115 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:01:37,133 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:01:37,394 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:01:37,396 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6329 ms
2020-01-07 10:01:37,757 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:01:37,773 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:01:37,778 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:01:37,780 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:01:37,789 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:01:37,796 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:01:38,894 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:01:38,910 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:01:38.240Z' ('2020-01-07T13:01:38.240+01:00' local time)
2020-01-07 10:01:39,238 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@28ee7bee]
2020-01-07 10:01:39,238 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@6342ff7f]
2020-01-07 10:01:39,239 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3f018494]
2020-01-07 10:01:39,240 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1f3b992]
2020-01-07 10:01:39,241 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@261db982]
2020-01-07 10:01:39,344 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 10:01:40,351 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 10:01:40,357 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 10:01:40,374 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 10:01:40,384 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keyStoreServiceImpl' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/service/impl/KeyStoreServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 19 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.service.impl.KeyStoreServiceImpl]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 33 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.<init>(KeyStoreServiceImpl.java:59)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 35 common frames omitted
2020-01-07 10:06:26,381 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5822 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:06:26,399 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:06:33,668 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:06:33,715 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:06:33,757 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:06:33,783 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:06:33,784 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:06:33,813 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:06:34,053 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:06:34,054 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7443 ms
2020-01-07 10:06:36,479 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:06:36,526 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:06:35.474Z' ('2020-01-07T13:06:35.474+01:00' local time)
2020-01-07 10:06:36,576 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:06:36,614 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:06:36,617 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:06:36,624 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:06:36,626 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:06:36,627 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:06:37,092 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@442bc751]
2020-01-07 10:06:37,094 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@295a65b6]
2020-01-07 10:06:37,095 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@43d0cc40]
2020-01-07 10:06:37,096 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@35a5725d]
2020-01-07 10:06:37,097 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@37e72648]
2020-01-07 10:06:37,383 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 10:06:38,260 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 10:06:39,239 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3d6bdf2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@827efbb, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c37f270, org.springframework.security.web.header.HeaderWriterFilter@57409272, org.springframework.security.web.authentication.logout.LogoutFilter@3025117f, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@442bc751]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@295a65b6]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@43d0cc40]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@35a5725d]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@37e72648]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47c91078, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34a98251, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3328a7dd, org.springframework.security.web.session.SessionManagementFilter@6462aae3, org.springframework.security.web.access.ExceptionTranslationFilter@54315368, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e40c50f]
2020-01-07 10:06:39,528 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:06:39,998 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 10:06:40,047 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 10:06:40,066 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 15.229 seconds (JVM running for 26.511)
2020-01-07 10:07:52,057 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 10:07:52,063 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 10:07:52,136 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 64 ms
2020-01-07 10:07:52,235 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 10:07:52,368 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 10:07:53,084 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 10:07:53,108 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
2020-01-07 10:07:53,237 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (String)"{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, "[truncated 1575 chars]; line: 1, column: 3]
2020-01-07 10:07:54,910 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 10:08:07,141 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 10:08:07,145 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
2020-01-07 10:08:07,194 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (String)"{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, "[truncated 1575 chars]; line: 1, column: 3]
2020-01-07 10:12:03,724 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 10:12:22,682 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6307 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:12:22,704 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:12:30,036 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:12:30,082 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:12:30,142 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:12:30,184 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:12:30,186 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:12:30,224 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:12:30,441 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:12:30,443 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7358 ms
2020-01-07 10:12:33,451 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:12:33,498 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:12:32.313Z' ('2020-01-07T13:12:32.313+01:00' local time)
2020-01-07 10:12:33,527 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:12:33,536 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:12:33,539 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:12:33,545 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:12:33,556 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:12:33,556 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:12:33,978 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5de6887f]
2020-01-07 10:12:33,980 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3fbbd06]
2020-01-07 10:12:33,981 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1bb21122]
2020-01-07 10:12:33,982 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47310f46]
2020-01-07 10:12:33,983 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1929489c]
2020-01-07 10:12:34,397 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 10:12:35,367 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 10:12:36,340 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@592af865, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a602ef0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1bfbe24d, org.springframework.security.web.header.HeaderWriterFilter@24b66a0c, org.springframework.security.web.authentication.logout.LogoutFilter@5fff50b, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5de6887f]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3fbbd06]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1bb21122]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47310f46]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1929489c]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2194657f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4debc3e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eccd91f, org.springframework.security.web.session.SessionManagementFilter@699b1efe, org.springframework.security.web.access.ExceptionTranslationFilter@159c0c01, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ba1f5fc]
2020-01-07 10:12:36,537 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:12:37,642 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 10:12:37,746 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 10:12:37,786 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 17.227 seconds (JVM running for 31.242)
2020-01-07 10:12:37,978 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 10:12:37,985 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 10:12:38,049 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 55 ms
2020-01-07 10:12:38,109 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 10:12:38,217 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 10:13:14,280 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 10:13:14,290 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: {id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}
2020-01-07 10:13:14,405 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (String)"{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, "[truncated 1575 chars]; line: 1, column: 3]
2020-01-07 10:14:07,711 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 10:14:20,422 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6446 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:14:20,435 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:14:27,012 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:14:27,076 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:14:27,169 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:14:27,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:14:27,201 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:14:27,249 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:14:27,475 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:14:27,478 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6884 ms
2020-01-07 10:14:29,591 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:14:29,630 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:14:28.685Z' ('2020-01-07T13:14:28.685+01:00' local time)
2020-01-07 10:14:29,667 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:14:29,677 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:14:29,677 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:14:29,680 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:14:29,681 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:14:29,682 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:14:29,992 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@41851b0f]
2020-01-07 10:14:29,993 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7dc989bd]
2020-01-07 10:14:29,995 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1b4005d0]
2020-01-07 10:14:29,995 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@16c398d4]
2020-01-07 10:14:29,996 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@ec54ad]
2020-01-07 10:14:30,289 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 10:14:30,892 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 10:14:31,534 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@33bbc451, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66a9123c, org.springframework.security.web.context.SecurityContextPersistenceFilter@14880b93, org.springframework.security.web.header.HeaderWriterFilter@45709d1e, org.springframework.security.web.authentication.logout.LogoutFilter@432b7a4, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@41851b0f]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7dc989bd]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1b4005d0]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@16c398d4]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@ec54ad]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56fd2c29, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@657b2f79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f645a6a, org.springframework.security.web.session.SessionManagementFilter@2a37cbb2, org.springframework.security.web.access.ExceptionTranslationFilter@1baf3d2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5031a8e7]
2020-01-07 10:14:31,711 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:14:32,290 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 10:14:32,325 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 10:14:32,334 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.12 seconds (JVM running for 22.146)
2020-01-07 10:14:35,557 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 10:14:35,561 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 10:14:35,589 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 27 ms
2020-01-07 10:14:35,651 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 10:14:35,795 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 10:14:47,668 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 10:14:47,670 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Session: {id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}
2020-01-07 10:14:47,799 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (String)"{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, "[truncated 1575 chars]; line: 1, column: 3]
2020-01-07 10:20:59,620 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 10:21:16,603 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 7012 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 10:21:16,628 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 10:21:25,611 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 10:21:25,680 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:21:25,742 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 10:21:25,792 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 10:21:25,794 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 10:21:25,816 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 10:21:26,092 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 10:21:26,095 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8997 ms
2020-01-07 10:21:28,987 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 10:21:29,016 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T12:21:27.937Z' ('2020-01-07T13:21:27.937+01:00' local time)
2020-01-07 10:21:29,030 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 10:21:29,037 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 10:21:29,038 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 10:21:29,038 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 10:21:29,039 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 10:21:29,040 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 10:21:29,389 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4fb7fd0a]
2020-01-07 10:21:29,398 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@5abcaff3]
2020-01-07 10:21:29,399 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3a7194be]
2020-01-07 10:21:29,401 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14d73d1b]
2020-01-07 10:21:29,402 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@9525b11]
2020-01-07 10:21:29,674 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 10:21:30,333 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 10:21:31,167 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3e440833, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fa43043, org.springframework.security.web.context.SecurityContextPersistenceFilter@19cc04e9, org.springframework.security.web.header.HeaderWriterFilter@55222c0a, org.springframework.security.web.authentication.logout.LogoutFilter@44b0ac43, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4fb7fd0a]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@5abcaff3]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3a7194be]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14d73d1b]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@9525b11]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@429cdc95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3abf3df6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24b52ea2, org.springframework.security.web.session.SessionManagementFilter@53c70f4b, org.springframework.security.web.access.ExceptionTranslationFilter@6d30c7ba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f6dabc2]
2020-01-07 10:21:31,333 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 10:21:31,928 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 10:21:32,036 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 10:21:32,082 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 17.57 seconds (JVM running for 29.836)
2020-01-07 10:21:32,207 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 10:21:32,218 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 10:21:32,262 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 41 ms
2020-01-07 10:21:32,308 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 10:21:32,431 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 10:21:32,714 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 10:21:32,721 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 10:21:32,724 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https:"//clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678", recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:"50:54Z", notAfter=2020-12-15T11:"55:54Z", status={code=null, subcode=null, message=null}, attributes=[{name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID", friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName", friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn", friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail", friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation", friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation", friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https:"//www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization", friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https:"//www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType", friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:"oasis:names:tc:SAML:2.0:nameid-format:persistent", SAML_AllowCreate=true}}
2020-01-07 10:21:32,829 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (String)"{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, "[truncated 1575 chars]; line: 1, column: 3]
2020-01-07 11:23:09,121 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 11:23:23,801 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 7661 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 11:23:23,832 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 11:23:32,065 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 11:23:32,112 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:23:32,203 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 11:23:32,237 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 11:23:32,238 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 11:23:32,277 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 11:23:32,454 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 11:23:32,454 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8188 ms
2020-01-07 11:23:35,304 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 11:23:35,349 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T13:23:34.034Z' ('2020-01-07T14:23:34.034+01:00' local time)
2020-01-07 11:23:35,362 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 11:23:35,379 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 11:23:35,381 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 11:23:35,382 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 11:23:35,383 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 11:23:35,392 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 11:23:35,699 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2c6f9df9]
2020-01-07 11:23:35,700 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7f82e411]
2020-01-07 11:23:35,701 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@340976f0]
2020-01-07 11:23:35,702 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@61ec1de4]
2020-01-07 11:23:35,703 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6fd5239e]
2020-01-07 11:23:35,945 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 11:23:36,619 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 11:23:37,406 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7644da86, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ee77c9d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7da31749, org.springframework.security.web.header.HeaderWriterFilter@5d3e126, org.springframework.security.web.authentication.logout.LogoutFilter@2a6b7ccc, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2c6f9df9]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7f82e411]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@340976f0]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@61ec1de4]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6fd5239e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b145b42, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30de62c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f71b16f, org.springframework.security.web.session.SessionManagementFilter@314fe8d2, org.springframework.security.web.access.ExceptionTranslationFilter@20a5afe3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23b42320]
2020-01-07 11:23:37,653 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:23:38,632 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 11:23:38,704 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 11:23:38,709 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 16.766 seconds (JVM running for 26.892)
2020-01-07 11:23:48,969 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 11:23:48,974 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 11:23:49,112 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 132 ms
2020-01-07 11:23:49,251 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 11:23:49,410 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 11:24:07,574 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 11:24:07,601 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to java.lang.String] with root cause
java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to java.lang.String
	at esmo.test.ap.apms.controllers.SamlControllers.queryAp(SamlControllers.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-07 11:43:58,820 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 11:44:17,324 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 8273 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 11:44:17,346 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 11:44:27,852 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 11:44:27,950 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:44:28,084 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 11:44:28,216 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 11:44:28,218 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 11:44:28,320 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 11:44:28,753 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 11:44:28,754 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11069 ms
2020-01-07 11:44:32,920 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 11:44:32,988 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T13:44:31.271Z' ('2020-01-07T14:44:31.271+01:00' local time)
2020-01-07 11:44:33,028 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 11:44:33,070 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 11:44:33,076 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 11:44:33,077 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 11:44:33,078 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 11:44:33,080 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 11:44:33,596 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6879df07]
2020-01-07 11:44:33,598 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@49f14e6f]
2020-01-07 11:44:33,600 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55b55cc3]
2020-01-07 11:44:33,602 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@25dbae9f]
2020-01-07 11:44:33,615 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5f53656f]
2020-01-07 11:44:33,980 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 11:44:34,910 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 11:44:36,545 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@12908191, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a082d75, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c5fdedf, org.springframework.security.web.header.HeaderWriterFilter@447d912, org.springframework.security.web.authentication.logout.LogoutFilter@1cbaa644, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6879df07]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@49f14e6f]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55b55cc3]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@25dbae9f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5f53656f]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d9b1f52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61de73e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5996dd7f, org.springframework.security.web.session.SessionManagementFilter@3e8e935e, org.springframework.security.web.access.ExceptionTranslationFilter@4282e7b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15d053db]
2020-01-07 11:44:36,960 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:44:38,406 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 11:44:38,470 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 11:44:38,500 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 22.773 seconds (JVM running for 36.527)
2020-01-07 11:44:38,673 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 11:44:38,675 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 11:44:38,749 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 74 ms
2020-01-07 11:44:38,801 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 11:44:38,910 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 11:44:39,348 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 11:44:39,351 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
class java.util.LinkedHashMap

2020-01-07 11:44:39,353 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
class java.util.LinkedHashMap
2020-01-07 11:44:39,423 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Unrecognized token 'class': was expecting ('true', 'false' or 'null')
 at [Source: (String)"class java.util.LinkedHashMap"; line: 1, column: 6]
2020-01-07 11:53:13,357 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 11:53:26,401 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 9266 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 11:53:26,420 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 11:53:32,431 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 11:53:32,551 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:53:32,612 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 11:53:32,656 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 11:53:32,657 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 11:53:32,718 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 11:53:32,924 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 11:53:32,925 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6362 ms
2020-01-07 11:53:34,974 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 11:53:35,007 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T13:53:34.112Z' ('2020-01-07T14:53:34.112+01:00' local time)
2020-01-07 11:53:35,031 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 11:53:35,046 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 11:53:35,047 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 11:53:35,048 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 11:53:35,049 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 11:53:35,050 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 11:53:35,350 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@291c65a9]
2020-01-07 11:53:35,351 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1d937c3e]
2020-01-07 11:53:35,352 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6dd45553]
2020-01-07 11:53:35,353 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7d6f9df3]
2020-01-07 11:53:35,354 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@579bba69]
2020-01-07 11:53:35,598 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 11:53:36,226 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 11:53:37,020 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@685d573e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1907a8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@67226215, org.springframework.security.web.header.HeaderWriterFilter@65a65ac8, org.springframework.security.web.authentication.logout.LogoutFilter@104ca585, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@291c65a9]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1d937c3e]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6dd45553]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7d6f9df3]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@579bba69]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dafc2b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d64a42b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51d300fa, org.springframework.security.web.session.SessionManagementFilter@30626c62, org.springframework.security.web.access.ExceptionTranslationFilter@36543289, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2de998ea]
2020-01-07 11:53:37,217 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:53:37,762 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 11:53:37,789 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 11:53:37,807 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.33 seconds (JVM running for 21.926)
2020-01-07 11:53:55,999 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 11:53:56,000 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 11:53:56,024 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 23 ms
2020-01-07 11:53:56,090 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 11:53:56,249 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 11:53:56,451 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.Error: Unresolved compilation problem: 
	The method readValue(JsonParser, Class<T>) in the type ObjectMapper is not applicable for the arguments (LinkedHashMap, Class<AttributeSet>)
] with root cause
java.lang.Error: Unresolved compilation problem: 
	The method readValue(JsonParser, Class<T>) in the type ObjectMapper is not applicable for the arguments (LinkedHashMap, Class<AttributeSet>)

	at esmo.test.ap.apms.controllers.SamlControllers.queryAp(SamlControllers.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-07 11:54:45,753 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 11:55:00,522 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 9428 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 11:55:00,542 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 11:55:08,643 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 11:55:08,828 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:55:08,891 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 11:55:08,921 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 11:55:08,922 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 11:55:08,954 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 11:55:09,156 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 11:55:09,157 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8168 ms
2020-01-07 11:55:11,757 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 11:55:11,804 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T13:55:10.739Z' ('2020-01-07T14:55:10.739+01:00' local time)
2020-01-07 11:55:11,831 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 11:55:11,838 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 11:55:11,839 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 11:55:11,844 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 11:55:11,845 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 11:55:11,846 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 11:55:12,175 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1f0c4c8c]
2020-01-07 11:55:12,182 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@168aba5a]
2020-01-07 11:55:12,191 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6b9c9094]
2020-01-07 11:55:12,196 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@138c2d83]
2020-01-07 11:55:12,213 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6e329928]
2020-01-07 11:55:12,656 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 11:55:13,431 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 11:55:14,822 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@6930e963, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5155d376, org.springframework.security.web.context.SecurityContextPersistenceFilter@6fa0ce24, org.springframework.security.web.header.HeaderWriterFilter@5609c1de, org.springframework.security.web.authentication.logout.LogoutFilter@4cb222c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1f0c4c8c]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@168aba5a]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6b9c9094]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@138c2d83]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6e329928]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e949886, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a8b310, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@176bb434, org.springframework.security.web.session.SessionManagementFilter@60ee2382, org.springframework.security.web.access.ExceptionTranslationFilter@433465c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@473ec211]
2020-01-07 11:55:15,000 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 11:55:15,412 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 11:55:15,459 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 11:55:15,481 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 16.705 seconds (JVM running for 27.103)
2020-01-07 11:55:15,650 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 11:55:15,653 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 11:55:15,689 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 33 ms
2020-01-07 11:55:15,752 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 11:55:15,856 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 11:55:16,116 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 11:55:16,124 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 11:55:16,126 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 11:55:16,495 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 12:04:45,460 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 2724 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 12:04:45,476 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 12:04:51,017 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 12:04:51,075 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 12:04:51,154 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 12:04:51,203 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 12:04:51,205 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 12:04:51,240 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 12:04:51,435 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 12:04:51,436 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5862 ms
2020-01-07 12:04:53,724 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 12:04:53,749 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T14:04:52.694Z' ('2020-01-07T15:04:52.694+01:00' local time)
2020-01-07 12:04:53,788 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 12:04:53,797 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 12:04:53,798 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 12:04:53,801 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 12:04:53,802 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 12:04:53,802 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 12:04:54,120 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@179557d6]
2020-01-07 12:04:54,121 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1c0959f7]
2020-01-07 12:04:54,123 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@253196bd]
2020-01-07 12:04:54,124 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6139e397]
2020-01-07 12:04:54,125 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@cc35ee0]
2020-01-07 12:04:54,304 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
2020-01-07 12:04:55,327 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-07 12:04:55,337 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2020-01-07 12:04:55,377 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-07 12:04:55,384 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlControllers' defined in file [/home/carlos/Documents/prj/seal/GRAPms/target/classes/esmo/test/ap/apms/controllers/SamlControllers.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:304)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:285)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [esmo.test.ap.apms.controllers.SamlControllers]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:300)
	... 25 common frames omitted
Caused by: java.lang.NullPointerException: null
	at esmo.test.ap.apms.service.impl.KeyStoreServiceImpl.getSigningKey(KeyStoreServiceImpl.java:75)
	at esmo.test.ap.apms.controllers.SamlControllers.<init>(SamlControllers.java:84)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 27 common frames omitted
2020-01-07 12:05:29,669 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 2857 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 12:05:29,682 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 12:05:34,733 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 12:05:34,767 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 12:05:34,845 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 12:05:34,868 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 12:05:34,869 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 12:05:34,932 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 12:05:35,119 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 12:05:35,120 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5264 ms
2020-01-07 12:05:37,084 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 12:05:37,112 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T14:05:36.246Z' ('2020-01-07T15:05:36.246+01:00' local time)
2020-01-07 12:05:37,169 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 12:05:37,187 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 12:05:37,188 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 12:05:37,194 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 12:05:37,195 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 12:05:37,196 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 12:05:37,550 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4f7ab9b9]
2020-01-07 12:05:37,551 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3f082117]
2020-01-07 12:05:37,553 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@781caa58]
2020-01-07 12:05:37,554 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@38cf40ff]
2020-01-07 12:05:37,567 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@327ee706]
2020-01-07 12:05:37,836 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 12:05:38,609 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 12:05:39,360 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7d391dce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@731319f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@6cadf2e1, org.springframework.security.web.header.HeaderWriterFilter@bf818c7, org.springframework.security.web.authentication.logout.LogoutFilter@6d36c3a6, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4f7ab9b9]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3f082117]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@781caa58]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@38cf40ff]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@327ee706]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30edfa48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@669a053, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dccde57, org.springframework.security.web.session.SessionManagementFilter@6284bbcd, org.springframework.security.web.access.ExceptionTranslationFilter@52077108, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c574df1]
2020-01-07 12:05:39,530 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 12:05:39,918 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 12:05:39,981 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 12:05:40,005 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 11.593 seconds (JVM running for 19.063)
2020-01-07 12:06:53,037 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 12:06:53,060 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2020-01-07 12:06:53,121 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 60 ms
2020-01-07 12:06:53,225 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 12:06:53,443 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 12:06:54,123 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 12:06:54,462 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 14:10:36,614 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 14:10:51,183 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 4035 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 14:10:51,208 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 14:10:57,008 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 14:10:57,068 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 14:10:57,140 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 14:10:57,229 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 14:10:57,232 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 14:10:57,299 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 14:10:57,501 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 14:10:57,501 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6080 ms
2020-01-07 14:10:59,773 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 14:10:59,802 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T16:10:58.739Z' ('2020-01-07T17:10:58.739+01:00' local time)
2020-01-07 14:10:59,833 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 14:10:59,879 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 14:10:59,880 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 14:10:59,881 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 14:10:59,882 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 14:10:59,883 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 14:11:00,269 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@29afb9f9]
2020-01-07 14:11:00,270 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@338d41e9]
2020-01-07 14:11:00,272 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@66df0768]
2020-01-07 14:11:00,273 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1cbec393]
2020-01-07 14:11:00,275 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@d05ec02]
2020-01-07 14:11:00,531 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 14:11:01,097 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 14:11:01,824 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@165058e4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cf98c2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a4a1fa2, org.springframework.security.web.header.HeaderWriterFilter@8da775f, org.springframework.security.web.authentication.logout.LogoutFilter@19fe7f44, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@29afb9f9]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@338d41e9]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@66df0768]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1cbec393]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@d05ec02]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@271154eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c130ce6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a098d4a, org.springframework.security.web.session.SessionManagementFilter@7887b78e, org.springframework.security.web.access.ExceptionTranslationFilter@5f89057c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6aa0d3c9]
2020-01-07 14:11:01,966 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 14:11:02,530 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 14:11:02,610 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 14:11:02,618 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.18 seconds (JVM running for 23.085)
2020-01-07 14:11:18,672 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 14:11:18,692 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 14:11:18,782 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 88 ms
2020-01-07 14:11:18,893 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 14:11:19,013 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 14:11:20,056 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 14:11:33,288 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 14:11:33,303 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 14:11:33,304 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 14:11:33,419 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] [AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-07 14:11:33,526 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 14:15:58,190 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 14:16:14,286 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 4274 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 14:16:14,301 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 14:16:22,443 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 14:16:22,486 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 14:16:22,514 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 14:16:22,526 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 14:16:22,526 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 14:16:22,542 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 14:16:22,658 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 14:16:22,660 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7827 ms
2020-01-07 14:16:25,446 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 14:16:25,487 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T16:16:24.008Z' ('2020-01-07T17:16:24.008+01:00' local time)
2020-01-07 14:16:25,515 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 14:16:25,529 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 14:16:25,530 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 14:16:25,531 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 14:16:25,531 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 14:16:25,532 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 14:16:25,860 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@66605e76]
2020-01-07 14:16:25,861 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3abc91a5]
2020-01-07 14:16:25,866 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@46bfb381]
2020-01-07 14:16:25,868 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3ad565ef]
2020-01-07 14:16:25,891 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1b9ea408]
2020-01-07 14:16:26,366 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 14:16:27,156 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 14:16:28,030 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@4ddfc96d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b77e2c8, org.springframework.security.web.context.SecurityContextPersistenceFilter@70a00f9, org.springframework.security.web.header.HeaderWriterFilter@1a784782, org.springframework.security.web.authentication.logout.LogoutFilter@136e523c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@66605e76]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3abc91a5]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@46bfb381]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3ad565ef]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1b9ea408]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7063163, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bfa3ed2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@278c854b, org.springframework.security.web.session.SessionManagementFilter@523bf519, org.springframework.security.web.access.ExceptionTranslationFilter@1e3b42fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@763ae020]
2020-01-07 14:16:28,292 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 14:16:28,905 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 14:16:28,961 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 14:16:28,973 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 15.896 seconds (JVM running for 26.755)
2020-01-07 14:16:29,119 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 14:16:29,122 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 14:16:29,154 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 28 ms
2020-01-07 14:16:29,192 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 14:16:29,329 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 14:16:29,685 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 14:16:29,696 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 14:16:29,703 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 14:16:29,798 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-07 14:16:30,184 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 17:16:24,584 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 17:16:24,584 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T19:16:24.153Z' ('2020-01-07T20:16:24.153+01:00' local time)
2020-01-07 17:50:42,798 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 17:51:00,854 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5324 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 17:51:00,859 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 17:51:08,372 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 17:51:08,435 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 17:51:08,499 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 17:51:08,566 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 17:51:08,567 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 17:51:08,639 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 17:51:09,027 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 17:51:09,028 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7813 ms
2020-01-07 17:51:12,404 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 17:51:12,480 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T19:51:11.005Z' ('2020-01-07T20:51:11.005+01:00' local time)
2020-01-07 17:51:12,504 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 17:51:12,532 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 17:51:12,533 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 17:51:12,535 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 17:51:12,538 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 17:51:12,549 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 17:51:13,016 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1d616b80]
2020-01-07 17:51:13,019 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@379bb141]
2020-01-07 17:51:13,028 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@317ecdff]
2020-01-07 17:51:13,039 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@41271ec2]
2020-01-07 17:51:13,055 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5ac3072c]
2020-01-07 17:51:13,458 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 17:51:14,428 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 17:51:15,465 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@69e771f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18039204, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bddfc04, org.springframework.security.web.header.HeaderWriterFilter@1fa7e97c, org.springframework.security.web.authentication.logout.LogoutFilter@5e68015b, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1d616b80]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@379bb141]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@317ecdff]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@41271ec2]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5ac3072c]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ebea644, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b2a9c27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ab68482, org.springframework.security.web.session.SessionManagementFilter@25184929, org.springframework.security.web.access.ExceptionTranslationFilter@78dad27d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a14b2fc]
2020-01-07 17:51:15,689 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 17:51:16,697 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 17:51:16,883 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 17:51:16,906 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 18.467 seconds (JVM running for 31.435)
2020-01-07 17:51:17,124 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 17:51:17,128 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 17:51:17,180 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 49 ms
2020-01-07 17:51:17,242 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 17:51:17,344 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 17:51:17,821 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:51:17,844 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:51:17,861 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:51:18,420 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:51:38,248 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:51:38,257 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:51:38,259 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:51:38,480 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:51:59,914 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:51:59,936 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:51:59,947 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:52:00,167 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:53:38,252 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:53:38,265 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:53:38,269 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:53:38,629 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:54:10,186 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:54:10,195 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:54:10,200 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:54:10,491 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:54:27,097 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:54:27,111 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:54:27,117 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:54:27,324 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:54:27,677 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 17:54:50,688 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 17:55:04,374 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5510 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 17:55:04,391 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 17:55:10,034 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 17:55:10,080 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 17:55:10,157 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 17:55:10,206 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 17:55:10,207 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 17:55:10,244 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 17:55:10,409 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 17:55:10,411 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5840 ms
2020-01-07 17:55:12,440 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 17:55:12,463 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T19:55:11.622Z' ('2020-01-07T20:55:11.622+01:00' local time)
2020-01-07 17:55:12,492 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 17:55:12,503 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 17:55:12,505 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 17:55:12,523 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 17:55:12,525 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 17:55:12,532 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 17:55:12,876 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1e0b468]
2020-01-07 17:55:12,877 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@d847691]
2020-01-07 17:55:12,879 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@529e8c5f]
2020-01-07 17:55:12,880 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@45518e0b]
2020-01-07 17:55:12,891 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@73dbb315]
2020-01-07 17:55:13,137 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 17:55:13,788 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 17:55:14,489 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@6c016937, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38800b77, org.springframework.security.web.context.SecurityContextPersistenceFilter@63172f5f, org.springframework.security.web.header.HeaderWriterFilter@686380a2, org.springframework.security.web.authentication.logout.LogoutFilter@3e917fd6, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1e0b468]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@d847691]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@529e8c5f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@45518e0b]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@73dbb315]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50a6093a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17dc676f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c396c72, org.springframework.security.web.session.SessionManagementFilter@70e5c15e, org.springframework.security.web.access.ExceptionTranslationFilter@7ab4f485, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@246b4759]
2020-01-07 17:55:14,625 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 17:55:15,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 17:55:15,276 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 17:55:15,282 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 12.222 seconds (JVM running for 20.781)
2020-01-07 17:57:38,718 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 17:57:38,735 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 17:57:38,823 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 84 ms
2020-01-07 17:57:38,944 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 17:57:39,070 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 17:57:39,538 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 17:57:39,565 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 17:57:39,582 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 17:57:40,260 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:01:18,727 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 18:03:00,986 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 5871 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 18:03:01,023 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 18:03:12,740 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 18:03:12,971 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:03:13,138 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 18:03:13,271 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 18:03:13,280 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 18:03:13,360 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 18:03:13,742 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 18:03:13,743 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11934 ms
2020-01-07 18:03:16,142 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 18:03:16,174 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T20:03:15.282Z' ('2020-01-07T21:03:15.282+01:00' local time)
2020-01-07 18:03:16,201 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 18:03:16,209 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 18:03:16,210 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 18:03:16,212 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 18:03:16,213 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 18:03:16,214 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 18:03:16,489 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3aa16762]
2020-01-07 18:03:16,490 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@58ce5978]
2020-01-07 18:03:16,491 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@67e53faa]
2020-01-07 18:03:16,492 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@13456ca1]
2020-01-07 18:03:16,501 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@20f67a56]
2020-01-07 18:03:16,881 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 18:03:18,354 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 18:03:19,530 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@1d457c33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8744de3, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ec890e3, org.springframework.security.web.header.HeaderWriterFilter@1b17f6f2, org.springframework.security.web.authentication.logout.LogoutFilter@319a5e60, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3aa16762]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@58ce5978]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@67e53faa]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@13456ca1]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@20f67a56]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@536446f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57b01b3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43c73311, org.springframework.security.web.session.SessionManagementFilter@77bd00f3, org.springframework.security.web.access.ExceptionTranslationFilter@7a429402, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e0b7410]
2020-01-07 18:03:19,872 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:03:20,622 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 18:03:20,696 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 18:03:20,713 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 22.488 seconds (JVM running for 36.273)
2020-01-07 18:03:20,806 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 18:03:20,809 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 18:03:20,832 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 20 ms
2020-01-07 18:03:20,879 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 18:03:20,923 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 18:03:21,218 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:03:21,235 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:03:21,236 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:03:30,485 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:03:30,498 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:03:30,509 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:03:31,188 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:03:31,771 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:04:39,870 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:04:39,890 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:04:39,909 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:04:40,185 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:04:50,856 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:04:50,863 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:04:50,866 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:04:51,206 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:05:30,552 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 18:05:50,161 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6044 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 18:05:50,189 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 18:06:04,680 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 18:06:04,746 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:06:04,779 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 18:06:04,837 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 18:06:04,839 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 18:06:04,864 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 18:06:05,238 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 18:06:05,240 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 14777 ms
2020-01-07 18:06:09,112 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 18:06:09,186 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T20:06:07.632Z' ('2020-01-07T21:06:07.632+01:00' local time)
2020-01-07 18:06:09,234 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 18:06:09,249 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 18:06:09,250 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 18:06:09,253 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 18:06:09,255 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 18:06:09,256 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 18:06:09,953 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1fda16e3]
2020-01-07 18:06:09,956 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@655e89d7]
2020-01-07 18:06:09,960 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7cc568df]
2020-01-07 18:06:09,974 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@e225cf6]
2020-01-07 18:06:09,977 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@798a595]
2020-01-07 18:06:10,349 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 18:06:11,738 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 18:06:13,471 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@1896d90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6eaabeb6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f01fb0e, org.springframework.security.web.header.HeaderWriterFilter@53b62ea3, org.springframework.security.web.authentication.logout.LogoutFilter@1f3b70a5, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1fda16e3]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@655e89d7]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7cc568df]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@e225cf6]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@798a595]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50254a0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c91b6e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b53088b, org.springframework.security.web.session.SessionManagementFilter@4e9c9469, org.springframework.security.web.access.ExceptionTranslationFilter@11e69b5e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@300f6d92]
2020-01-07 18:06:13,747 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:06:14,602 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 18:06:14,671 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 18:06:14,679 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 26.823 seconds (JVM running for 40.335)
2020-01-07 18:06:14,945 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 18:06:14,949 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 18:06:14,998 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 45 ms
2020-01-07 18:06:15,048 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 18:06:15,211 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 18:06:15,650 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:06:15,669 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:06:15,675 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:06:40,532 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 18:06:59,572 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6198 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 18:06:59,623 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 18:07:12,005 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 18:07:12,117 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:07:12,286 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 18:07:12,366 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 18:07:12,368 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 18:07:12,574 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 18:07:13,043 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 18:07:13,054 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 13100 ms
2020-01-07 18:07:17,583 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 18:07:17,650 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T20:07:15.477Z' ('2020-01-07T21:07:15.477+01:00' local time)
2020-01-07 18:07:17,671 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 18:07:17,682 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 18:07:17,684 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 18:07:17,685 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 18:07:17,686 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 18:07:17,688 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 18:07:18,133 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5011f81d]
2020-01-07 18:07:18,134 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@13f24c1b]
2020-01-07 18:07:18,137 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2514ecb9]
2020-01-07 18:07:18,138 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@701493d3]
2020-01-07 18:07:18,146 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@76d63782]
2020-01-07 18:07:18,412 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 18:07:19,332 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 18:07:20,150 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@321f833, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cf9a714, org.springframework.security.web.context.SecurityContextPersistenceFilter@24fabdc9, org.springframework.security.web.header.HeaderWriterFilter@63a5778e, org.springframework.security.web.authentication.logout.LogoutFilter@19b16543, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5011f81d]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@13f24c1b]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2514ecb9]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@701493d3]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@76d63782]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76e0600c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ac30ce7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e3fdc57, org.springframework.security.web.session.SessionManagementFilter@675c3264, org.springframework.security.web.access.ExceptionTranslationFilter@250c7f02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@201f16da]
2020-01-07 18:07:20,287 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:07:20,780 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 18:07:20,800 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 18:07:20,805 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 23.067 seconds (JVM running for 37.479)
2020-01-07 18:07:23,846 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 18:07:23,854 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2020-01-07 18:07:23,923 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 66 ms
2020-01-07 18:07:24,074 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 18:07:24,242 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 18:07:50,382 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:07:50,415 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:07:50,422 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-4] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:07:51,283 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 18:08:14,421 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 18:08:33,014 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6336 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 18:08:33,035 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 18:08:40,038 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 18:08:40,087 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:08:40,130 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 18:08:40,160 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 18:08:40,161 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 18:08:40,178 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 18:08:40,360 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 18:08:40,361 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7172 ms
2020-01-07 18:08:42,940 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 18:08:42,972 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T20:08:42.105Z' ('2020-01-07T21:08:42.105+01:00' local time)
2020-01-07 18:08:42,997 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 18:08:43,015 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 18:08:43,016 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 18:08:43,020 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 18:08:43,021 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 18:08:43,022 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 18:08:43,355 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4cbf3024]
2020-01-07 18:08:43,356 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@74a61a35]
2020-01-07 18:08:43,358 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@30260f5c]
2020-01-07 18:08:43,359 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3eb04c7f]
2020-01-07 18:08:43,370 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4b1f7f69]
2020-01-07 18:08:43,554 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 18:08:44,085 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 18:08:45,229 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@155182c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@720767bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@6040a6a1, org.springframework.security.web.header.HeaderWriterFilter@2a7a5dc8, org.springframework.security.web.authentication.logout.LogoutFilter@68d6c8af, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4cbf3024]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@74a61a35]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@30260f5c]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3eb04c7f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4b1f7f69]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5793c1e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55fd0375, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cd0c60b, org.springframework.security.web.session.SessionManagementFilter@5c701db2, org.springframework.security.web.access.ExceptionTranslationFilter@657b9a7c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d636075]
2020-01-07 18:08:45,488 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:08:46,514 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 18:08:46,587 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 18:08:46,599 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 14.992 seconds (JVM running for 29.906)
2020-01-07 18:08:47,869 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 18:08:47,872 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 18:08:47,921 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 48 ms
2020-01-07 18:08:48,016 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 18:08:48,182 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 18:08:48,677 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:08:48,712 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:08:48,716 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:08:49,371 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:09:06,573 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:09:06,596 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:09:06,614 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:09:06,910 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-07 18:09:56,664 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-07 18:10:10,110 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 6481 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-07 18:10:10,125 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-07 18:10:16,574 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-07 18:10:16,668 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:10:16,782 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-07 18:10:16,829 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-07 18:10:16,841 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-07 18:10:16,910 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-07 18:10:17,378 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-07 18:10:17,380 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7091 ms
2020-01-07 18:10:20,160 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-07 18:10:20,204 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-07T20:10:18.932Z' ('2020-01-07T21:10:18.932+01:00' local time)
2020-01-07 18:10:20,243 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-07 18:10:20,251 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-07 18:10:20,252 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-07 18:10:20,252 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-07 18:10:20,253 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-07 18:10:20,254 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-07 18:10:20,768 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4ca3065f]
2020-01-07 18:10:20,769 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@d5331c6]
2020-01-07 18:10:20,770 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2dd7b388]
2020-01-07 18:10:20,771 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4c98f5e5]
2020-01-07 18:10:20,772 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@38ae247e]
2020-01-07 18:10:21,193 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-07 18:10:22,175 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-07 18:10:23,343 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7345c097, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1569e4b1, org.springframework.security.web.context.SecurityContextPersistenceFilter@714590d5, org.springframework.security.web.header.HeaderWriterFilter@a989e14, org.springframework.security.web.authentication.logout.LogoutFilter@3ddb333b, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4ca3065f]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@d5331c6]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2dd7b388]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4c98f5e5]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@38ae247e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67ae73cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23cd79d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ef2259b, org.springframework.security.web.session.SessionManagementFilter@68391935, org.springframework.security.web.access.ExceptionTranslationFilter@5f1608ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23f7a35d]
2020-01-07 18:10:23,759 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-07 18:10:24,655 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-07 18:10:24,690 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-07 18:10:24,713 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 15.953 seconds (JVM running for 25.357)
2020-01-07 18:10:24,845 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-07 18:10:24,851 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-07 18:10:24,880 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 26 ms
2020-01-07 18:10:24,913 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-07 18:10:25,006 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-07 18:10:25,412 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-07 18:10:25,460 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-07 18:10:25,466 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-07 18:10:25,552 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-07 18:10:26,008 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 18:13:52,582 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 18:17:06,950 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 18:17:42,355 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-07 18:38:03,756 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
