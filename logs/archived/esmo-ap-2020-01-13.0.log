2020-01-13 08:56:41,289 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 20383 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 08:56:41,304 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 08:56:47,456 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 08:56:47,511 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 08:56:47,542 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 08:56:47,575 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 08:56:47,576 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 08:56:47,598 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 08:56:47,800 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 08:56:47,802 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5899 ms
2020-01-13 08:56:50,272 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 08:56:50,297 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T10:56:49.183Z' ('2020-01-13T11:56:49.183+01:00' local time)
2020-01-13 08:56:50,322 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 08:56:50,335 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 08:56:50,335 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 08:56:50,338 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 08:56:50,338 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 08:56:50,339 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 08:56:50,609 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@308135b]
2020-01-13 08:56:50,610 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@47b2d4aa]
2020-01-13 08:56:50,611 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@434b29b7]
2020-01-13 08:56:50,611 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@58c9be6f]
2020-01-13 08:56:50,612 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@50755963]
2020-01-13 08:56:50,960 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 08:56:52,047 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 08:56:53,695 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@377f02c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@493ffaec, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b96539d, org.springframework.security.web.header.HeaderWriterFilter@8355cb7, org.springframework.security.web.authentication.logout.LogoutFilter@8b5104e, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@308135b]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@47b2d4aa]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@434b29b7]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@58c9be6f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@50755963]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4eb3d46b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d664d75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401d65b, org.springframework.security.web.session.SessionManagementFilter@302228c9, org.springframework.security.web.access.ExceptionTranslationFilter@9fafb75, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6691bba0]
2020-01-13 08:56:53,995 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 08:56:56,070 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 08:56:56,426 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 08:56:56,437 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 17.338 seconds (JVM running for 33.111)
2020-01-13 09:07:27,191 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 09:07:40,951 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 20755 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 09:07:40,964 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 09:07:47,328 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 09:07:47,731 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:07:47,880 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 09:07:47,960 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 09:07:47,962 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 09:07:48,007 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 09:07:48,382 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 09:07:48,384 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7059 ms
2020-01-13 09:07:51,555 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 09:07:51,643 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T11:07:50.268Z' ('2020-01-13T12:07:50.268+01:00' local time)
2020-01-13 09:07:51,675 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 09:07:51,697 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 09:07:51,697 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 09:07:51,698 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 09:07:51,699 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 09:07:51,699 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 09:07:52,426 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4afd345a]
2020-01-13 09:07:52,427 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@196e002c]
2020-01-13 09:07:52,428 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@ffdd5dd]
2020-01-13 09:07:52,437 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@60e74691]
2020-01-13 09:07:52,438 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@19d3942e]
2020-01-13 09:07:52,839 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 09:07:54,536 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 09:07:56,131 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@71a96796, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@411b2a09, org.springframework.security.web.context.SecurityContextPersistenceFilter@39bdccac, org.springframework.security.web.header.HeaderWriterFilter@69c66980, org.springframework.security.web.authentication.logout.LogoutFilter@33ca5899, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4afd345a]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@196e002c]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@ffdd5dd]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@60e74691]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@19d3942e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17dc676f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ca452fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20b699be, org.springframework.security.web.session.SessionManagementFilter@3e215b7, org.springframework.security.web.access.ExceptionTranslationFilter@e17d697, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c396c72]
2020-01-13 09:07:56,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:07:57,250 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 09:07:57,294 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 09:07:57,307 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 17.738 seconds (JVM running for 27.366)
2020-01-13 09:23:56,573 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 09:23:56,578 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2020-01-13 09:23:56,655 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 75 ms
2020-01-13 09:23:56,775 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 09:23:56,990 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 09:23:57,579 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:23:57,598 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:23:57,601 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:23:57,696 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:23:58,283 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-13 09:25:01,897 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 09:25:17,629 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 09:25:37,669 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 09:26:26,182 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-13 09:26:56,452 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:26:56,478 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:26:56,502 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:26:56,599 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:26:56,815 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-13 09:27:14,333 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:27:14,337 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:27:14,338 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:27:14,376 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:32:35,421 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 09:32:50,829 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 21635 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 09:32:50,837 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 09:32:57,603 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 09:32:57,666 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:32:57,739 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 09:32:57,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 09:32:57,800 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 09:32:57,849 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 09:32:58,078 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 09:32:58,080 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6727 ms
2020-01-13 09:33:00,636 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 09:33:00,672 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T11:32:59.553Z' ('2020-01-13T12:32:59.553+01:00' local time)
2020-01-13 09:33:00,724 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 09:33:00,735 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 09:33:00,738 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 09:33:00,749 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 09:33:00,750 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 09:33:00,751 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 09:33:00,787 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Viva Espa√±a!
2020-01-13 09:33:01,138 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2616889d]
2020-01-13 09:33:01,141 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2a35b557]
2020-01-13 09:33:01,144 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@c548d14]
2020-01-13 09:33:01,146 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@452132]
2020-01-13 09:33:01,154 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7c5e51f8]
2020-01-13 09:33:01,400 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 09:33:02,071 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 09:33:02,935 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@9f2bedf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@692aee88, org.springframework.security.web.context.SecurityContextPersistenceFilter@3bf41e88, org.springframework.security.web.header.HeaderWriterFilter@20b3b1b0, org.springframework.security.web.authentication.logout.LogoutFilter@35c363c8, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2616889d]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2a35b557]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@c548d14]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@452132]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7c5e51f8]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@755976a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@557e818b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23ef70ad, org.springframework.security.web.session.SessionManagementFilter@54d72fa6, org.springframework.security.web.access.ExceptionTranslationFilter@29d11db8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7affb7ea]
2020-01-13 09:33:03,100 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:33:03,711 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 09:33:03,735 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 09:33:03,750 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 14.404 seconds (JVM running for 25.389)
2020-01-13 09:33:03,935 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 09:33:03,943 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 09:33:03,986 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 42 ms
2020-01-13 09:33:04,026 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 09:33:04,108 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 09:33:04,393 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:33:04,428 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:33:04,437 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:33:04,549 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:33:30,353 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 09:33:46,134 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 21761 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 09:33:46,148 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 09:33:57,495 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 09:33:57,583 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:33:57,649 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 09:33:57,709 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 09:33:57,710 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 09:33:57,729 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 09:33:57,949 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 09:33:57,951 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11281 ms
2020-01-13 09:34:00,145 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 09:34:00,185 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T11:33:59.302Z' ('2020-01-13T12:33:59.302+01:00' local time)
2020-01-13 09:34:00,218 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 09:34:00,223 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 09:34:00,226 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 09:34:00,229 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 09:34:00,230 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 09:34:00,232 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 09:34:00,527 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@ba68387]
2020-01-13 09:34:00,528 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2db9f762]
2020-01-13 09:34:00,529 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@47370c56]
2020-01-13 09:34:00,529 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2514ecb9]
2020-01-13 09:34:00,530 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@74567ac8]
2020-01-13 09:34:00,741 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 09:34:01,385 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 09:34:02,414 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@333bb815, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d36b866, org.springframework.security.web.context.SecurityContextPersistenceFilter@361ef05c, org.springframework.security.web.header.HeaderWriterFilter@2a5423fc, org.springframework.security.web.authentication.logout.LogoutFilter@24fabdc9, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@ba68387]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2db9f762]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@47370c56]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2514ecb9]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@74567ac8]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7090f0b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63a5778e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2868ccb8, org.springframework.security.web.session.SessionManagementFilter@3ee35822, org.springframework.security.web.access.ExceptionTranslationFilter@5259958c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69f20bea]
2020-01-13 09:34:02,718 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:34:03,173 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 09:34:03,205 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 09:34:03,216 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 19.322 seconds (JVM running for 30.598)
2020-01-13 09:40:18,827 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 09:40:18,831 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 09:40:18,867 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 34 ms
2020-01-13 09:40:18,920 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 09:40:19,015 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 09:40:26,355 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:40:26,381 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:40:26,384 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:40:26,462 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:40:30,826 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:40:30,829 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:40:30,830 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:40:30,899 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-3] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:40:52,466 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:40:52,478 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:40:52,479 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:40:52,534 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:41:10,603 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-7] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:41:10,606 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-7] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:41:10,608 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-7] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:41:10,654 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-7] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:47:05,209 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:47:05,215 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:47:05,217 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:47:05,246 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:47:07,804 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-9] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:47:07,810 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-9] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:47:07,813 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-9] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:47:07,842 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-9] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 09:47:21,049 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 09:52:16,671 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 09:52:31,988 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 22472 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 09:52:32,008 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 09:52:37,601 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 09:52:37,643 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:52:37,722 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 09:52:37,770 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 09:52:37,771 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 09:52:37,822 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 09:52:38,066 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 09:52:38,068 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5834 ms
2020-01-13 09:52:40,354 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 09:52:40,392 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T11:52:39.384Z' ('2020-01-13T12:52:39.384+01:00' local time)
2020-01-13 09:52:40,415 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 09:52:40,420 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 09:52:40,421 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 09:52:40,421 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 09:52:40,422 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 09:52:40,423 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 09:52:40,845 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3a5d8335]
2020-01-13 09:52:40,846 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@425c50e5]
2020-01-13 09:52:40,848 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4154a5d1]
2020-01-13 09:52:40,849 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1fc8304f]
2020-01-13 09:52:40,856 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5823ca3b]
2020-01-13 09:52:41,134 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 09:52:41,682 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 09:52:42,409 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@43e5b98b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@550a41ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ec13934, org.springframework.security.web.header.HeaderWriterFilter@5ab29ea9, org.springframework.security.web.authentication.logout.LogoutFilter@5609c1de, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3a5d8335]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@425c50e5]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4154a5d1]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@1fc8304f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5823ca3b]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49f60447, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29f27fda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78b7de4d, org.springframework.security.web.session.SessionManagementFilter@3c264ae0, org.springframework.security.web.access.ExceptionTranslationFilter@2687895d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77f7afd6]
2020-01-13 09:52:42,588 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 09:52:43,371 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 09:52:43,403 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 09:52:43,410 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.07 seconds (JVM running for 22.898)
2020-01-13 09:52:43,585 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 09:52:43,588 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 09:52:43,621 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 32 ms
2020-01-13 09:52:43,641 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 09:52:43,718 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 09:52:44,041 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 09:53:19,904 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 09:53:19,911 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 09:53:19,913 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 09:53:19,963 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 10:00:57,949 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 10:01:11,553 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 22837 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 10:01:11,567 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 10:01:17,533 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 10:01:17,567 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:01:17,594 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 10:01:17,618 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 10:01:17,625 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 10:01:17,674 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 10:01:17,897 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 10:01:17,898 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6144 ms
2020-01-13 10:01:19,993 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 10:01:20,024 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T12:01:19.076Z' ('2020-01-13T13:01:19.076+01:00' local time)
2020-01-13 10:01:20,045 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 10:01:20,060 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 10:01:20,061 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 10:01:20,062 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 10:01:20,065 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 10:01:20,068 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 10:01:20,482 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@17e38605]
2020-01-13 10:01:20,485 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@28811c18]
2020-01-13 10:01:20,487 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@d6305ef]
2020-01-13 10:01:20,488 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@53536d28]
2020-01-13 10:01:20,489 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@563690f1]
2020-01-13 10:01:20,761 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 10:01:21,539 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 10:01:22,306 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@9de18f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8663cc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@76c30e92, org.springframework.security.web.header.HeaderWriterFilter@4e0ee6cc, org.springframework.security.web.authentication.logout.LogoutFilter@6d416dc3, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@17e38605]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@28811c18]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@d6305ef]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@53536d28]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@563690f1]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60d5da72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e768d80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bf002e8, org.springframework.security.web.session.SessionManagementFilter@5c8a78c4, org.springframework.security.web.access.ExceptionTranslationFilter@73a49172, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2bc69ee5]
2020-01-13 10:01:22,441 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:01:23,382 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 10:01:23,436 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 10:01:23,455 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.155 seconds (JVM running for 21.472)
2020-01-13 10:01:23,587 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 10:01:23,591 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 10:01:23,664 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 68 ms
2020-01-13 10:01:23,719 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 10:01:23,850 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 10:01:24,178 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 10:01:24,187 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 10:01:24,188 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 10:01:24,257 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 10:01:34,163 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 10:01:34,166 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 10:01:34,173 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 10:01:34,262 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 10:01:34,455 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-3] Bitconnect!
2020-01-13 10:01:34,752 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-13 10:01:35,001 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 10:04:02,617 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 10:04:19,662 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 23161 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 10:04:19,706 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 10:04:30,586 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 10:04:30,659 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:04:30,701 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 10:04:30,719 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 10:04:30,720 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 10:04:30,743 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 10:04:30,974 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 10:04:30,980 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10207 ms
2020-01-13 10:04:32,767 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [main] Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:04:32,788 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Error occurred while attempting to refresh metadata from 'https://idp.pwpw.gr/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-13 10:04:32,857 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.pwpw.gr/idp/shibboleth' will occur on '2020-01-13T09:09:32.814Z' ('2020-01-13T10:09:32.814+01:00' local time)
2020-01-13 10:04:32,902 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [main] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 92 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-13 10:04:32,918 ERROR org.springframework.security.saml.metadata.MetadataManager [main] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@1e1ec183 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager.afterPropertiesSet(MetadataManager.java:167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 92 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 93 common frames omitted
2020-01-13 10:04:32,947 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 10:04:32,953 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 10:04:32,954 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 10:04:32,955 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 10:04:32,956 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 10:04:32,957 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 10:04:33,449 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6a3b23b8]
2020-01-13 10:04:33,460 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@9a0eea7]
2020-01-13 10:04:33,461 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@49a752c]
2020-01-13 10:04:33,462 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47a7982e]
2020-01-13 10:04:33,464 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@45bd611e]
2020-01-13 10:04:33,970 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 10:04:34,726 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 10:04:35,738 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@1c4575c3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53f1d49, org.springframework.security.web.context.SecurityContextPersistenceFilter@87615bb, org.springframework.security.web.header.HeaderWriterFilter@35de5851, org.springframework.security.web.authentication.logout.LogoutFilter@5d0bcc7c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6a3b23b8]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@9a0eea7]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@49a752c]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47a7982e]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@45bd611e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cafbe7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28941ea4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50a0383d, org.springframework.security.web.session.SessionManagementFilter@7d783757, org.springframework.security.web.access.ExceptionTranslationFilter@4b75b0a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@96e9e00]
2020-01-13 10:04:36,012 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:04:37,365 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 10:04:37,478 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 10:04:37,496 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 19.397 seconds (JVM running for 31.98)
2020-01-13 10:04:37,641 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 10:04:37,644 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 10:04:37,699 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 54 ms
2020-01-13 10:04:37,733 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 10:04:37,851 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 10:04:37,871 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [http-nio-8080-exec-1] Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:04:37,872 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [http-nio-8080-exec-1] Error occurred while attempting to refresh metadata from 'https://idp.pwpw.gr/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-13 10:04:37,874 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [http-nio-8080-exec-1] Next refresh cycle for metadata provider 'https://idp.pwpw.gr/idp/shibboleth' will occur on '2020-01-13T09:09:37.874Z' ('2020-01-13T10:09:37.874+01:00' local time)
2020-01-13 10:04:37,875 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [http-nio-8080-exec-1] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 47 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-13 10:04:37,876 ERROR org.springframework.security.saml.metadata.MetadataManager [http-nio-8080-exec-1] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@1e1ec183 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.processMetadataInitialization(MetadataGeneratorFilter.java:137)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 47 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 48 common frames omitted
2020-01-13 10:04:38,356 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 10:04:38,364 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 10:04:38,366 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 10:04:38,418 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 10:04:38,602 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause
org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP
	at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:834)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127)
	at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:145)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:106)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:04:38,959 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause
org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP
	at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:834)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127)
	at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:145)
	at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:213)
	at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:185)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:141)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:04:42,371 ERROR org.opensaml.saml2.metadata.provider.HTTPMetadataProvider [Metadata-reload] Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2020-01-13 10:04:42,373 ERROR org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Error occurred while attempting to refresh metadata from 'https://idp.pwpw.gr/idp/shibboleth'
org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-13 10:04:42,375 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Metadata-reload] Next refresh cycle for metadata provider 'https://idp.pwpw.gr/idp/shibboleth' will occur on '2020-01-13T09:09:42.375Z' ('2020-01-13T10:09:42.375+01:00' local time)
2020-01-13 10:04:42,376 ERROR org.opensaml.saml2.metadata.provider.AbstractMetadataProvider [Metadata-reload] Metadata provider failed to properly initialize, fail-fast=true, halting
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-13 10:04:42,378 ERROR org.springframework.security.saml.metadata.MetadataManager [Metadata-reload] Initialization of metadata provider org.opensaml.saml2.metadata.provider.HTTPMetadataProvider@1e1ec183 failed, provider will be ignored
org.opensaml.saml2.metadata.provider.MetadataProviderException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:270)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:239)
	at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407)
	at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167)
	at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:437)
	at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:263)
	at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86)
	at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1079)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.opensaml.saml2.metadata.provider.MetadataProviderException: Error retrieving metadata from https://idp.pwpw.gr/idp/shibboleth
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:274)
	at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258)
	... 9 common frames omitted
Caused by: java.net.UnknownHostException: idp.pwpw.gr
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)
	at sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:471)
	at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:153)
	at org.opensaml.ws.soap.client.http.TLSProtocolSocketFactory.createSocket(TLSProtocolSocketFactory.java:185)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.opensaml.saml2.metadata.provider.HTTPMetadataProvider.fetchMetadata(HTTPMetadataProvider.java:250)
	... 10 common frames omitted
2020-01-13 10:07:09,107 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause
org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP
	at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:834)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127)
	at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:145)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:106)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:07:37,132 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 10:07:37,148 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 10:07:37,150 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 10:07:37,241 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 10:07:37,296 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause
org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP
	at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:834)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157)
	at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127)
	at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:145)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:106)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-01-13 10:31:09,549 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 10:31:54,366 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 24000 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 10:31:54,373 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 10:31:59,353 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 10:31:59,412 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:31:59,516 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 10:31:59,541 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 10:31:59,542 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 10:31:59,610 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 10:31:59,824 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 10:31:59,826 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5044 ms
2020-01-13 10:32:02,058 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 10:32:02,093 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T12:32:01.098Z' ('2020-01-13T13:32:01.098+01:00' local time)
2020-01-13 10:32:02,126 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 10:32:02,147 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 10:32:02,153 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 10:32:02,159 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 10:32:02,160 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 10:32:02,160 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 10:32:02,519 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@33a6ca85]
2020-01-13 10:32:02,520 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7a1e591d]
2020-01-13 10:32:02,521 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2c97c513]
2020-01-13 10:32:02,522 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6532a6df]
2020-01-13 10:32:02,523 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1d457c33]
2020-01-13 10:32:02,764 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 10:32:03,339 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 10:32:04,044 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@122c4ced, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e2f9873, org.springframework.security.web.context.SecurityContextPersistenceFilter@382d94b4, org.springframework.security.web.header.HeaderWriterFilter@679d0ed5, org.springframework.security.web.authentication.logout.LogoutFilter@7ddd3ca3, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@33a6ca85]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7a1e591d]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2c97c513]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6532a6df]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1d457c33]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@319a5e60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16ac14f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@164e2896, org.springframework.security.web.session.SessionManagementFilter@57b01b3a, org.springframework.security.web.access.ExceptionTranslationFilter@164250e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40c51027]
2020-01-13 10:32:04,231 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 10:32:04,877 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 10:32:04,921 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 10:32:04,927 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 12.028 seconds (JVM running for 20.406)
2020-01-13 10:33:02,070 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 10:33:02,073 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 10:33:02,117 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 43 ms
2020-01-13 10:33:02,176 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 10:33:02,250 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 10:33:11,271 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 10:33:11,279 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 10:33:11,281 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 10:33:11,342 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 12:00:15,024 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 12:00:15,038 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 12:00:15,040 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 12:00:15,103 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-5] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 12:00:20,330 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 12:00:33,506 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 25248 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 12:00:33,526 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 12:00:40,543 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 12:00:40,630 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 12:00:40,721 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 12:00:40,773 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 12:00:40,774 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 12:00:40,822 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 12:00:41,079 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 12:00:41,082 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7331 ms
2020-01-13 12:00:43,408 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 12:00:43,459 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T14:00:42.428Z' ('2020-01-13T15:00:42.428+01:00' local time)
2020-01-13 12:00:43,502 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 12:00:43,519 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 12:00:43,520 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 12:00:43,524 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 12:00:43,525 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 12:00:43,526 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 12:00:43,911 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@22a47567]
2020-01-13 12:00:43,912 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@781d0d9d]
2020-01-13 12:00:43,914 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@29ba9c34]
2020-01-13 12:00:43,915 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7417dcf2]
2020-01-13 12:00:43,921 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@74638124]
2020-01-13 12:00:44,149 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 12:00:44,817 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 12:00:45,607 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@b83de1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56bd4fde, org.springframework.security.web.context.SecurityContextPersistenceFilter@15d308fa, org.springframework.security.web.header.HeaderWriterFilter@72d1a462, org.springframework.security.web.authentication.logout.LogoutFilter@4f086806, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@22a47567]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@781d0d9d]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@29ba9c34]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7417dcf2]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@74638124]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c5977ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e6c6ca2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10da7fb9, org.springframework.security.web.session.SessionManagementFilter@506bced9, org.springframework.security.web.access.ExceptionTranslationFilter@154d021a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d7ffe87]
2020-01-13 12:00:45,753 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 12:00:46,212 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 12:00:46,244 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 12:00:46,259 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 14.359 seconds (JVM running for 23.191)
2020-01-13 12:00:46,398 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 12:00:46,401 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 12:00:46,450 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 38 ms
2020-01-13 12:00:46,484 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 12:00:46,582 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 12:00:46,901 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 12:00:46,909 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 12:00:46,910 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 12:00:46,983 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 12:00:53,616 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 12:12:20,305 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 12:12:44,846 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 25775 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 12:12:44,859 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 12:12:51,155 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 12:12:51,247 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 12:12:51,349 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 12:12:51,388 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 12:12:51,389 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 12:12:51,428 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 12:12:51,642 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 12:12:51,644 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6569 ms
2020-01-13 12:12:53,891 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 12:12:53,935 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T14:12:53.005Z' ('2020-01-13T15:12:53.005+01:00' local time)
2020-01-13 12:12:53,986 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 12:12:54,006 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 12:12:54,018 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 12:12:54,025 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 12:12:54,026 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 12:12:54,027 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 12:12:54,404 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6ebcf743]
2020-01-13 12:12:54,405 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3bdc4238]
2020-01-13 12:12:54,407 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3018b736]
2020-01-13 12:12:54,408 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6fe8cbf8]
2020-01-13 12:12:54,423 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@61637d8e]
2020-01-13 12:12:54,705 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 12:12:55,437 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 12:12:56,343 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@726d9d53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41dd4c1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7123e275, org.springframework.security.web.header.HeaderWriterFilter@393292fa, org.springframework.security.web.authentication.logout.LogoutFilter@6a98ca05, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6ebcf743]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3bdc4238]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3018b736]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6fe8cbf8]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@61637d8e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2009bb53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f2e4d42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@763b7869, org.springframework.security.web.session.SessionManagementFilter@2e44ced9, org.springframework.security.web.access.ExceptionTranslationFilter@155add66, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7866eb4]
2020-01-13 12:12:56,523 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 12:12:57,076 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 12:12:57,169 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 12:12:57,177 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 13.909 seconds (JVM running for 24.283)
2020-01-13 12:13:08,216 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 12:13:08,219 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 12:13:08,247 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 25 ms
2020-01-13 12:13:08,278 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 12:13:08,384 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 12:13:08,854 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 16:15:53,015 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 16:16:07,056 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 28543 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 16:16:07,072 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 16:16:13,568 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 16:16:13,631 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 16:16:13,714 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 16:16:13,765 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 16:16:13,765 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 16:16:13,817 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 16:16:14,063 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 16:16:14,064 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6787 ms
2020-01-13 16:16:16,148 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 16:16:16,203 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T18:16:15.057Z' ('2020-01-13T19:16:15.057+01:00' local time)
2020-01-13 16:16:16,237 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 16:16:16,257 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 16:16:16,258 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 16:16:16,259 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 16:16:16,260 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 16:16:16,260 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 16:16:16,625 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6cc27bec]
2020-01-13 16:16:16,626 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@769cb268]
2020-01-13 16:16:16,627 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@79df3e7a]
2020-01-13 16:16:16,628 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6c17c5df]
2020-01-13 16:16:16,629 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@dc94324]
2020-01-13 16:16:16,841 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 16:16:17,706 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 16:16:18,611 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@20bf42da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32efa2cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@a098e9b, org.springframework.security.web.header.HeaderWriterFilter@5bb9fab4, org.springframework.security.web.authentication.logout.LogoutFilter@6eb64728, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6cc27bec]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@769cb268]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@79df3e7a]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@6c17c5df]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@dc94324]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d1a52f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bececaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53aab955, org.springframework.security.web.session.SessionManagementFilter@3f48e5bb, org.springframework.security.web.access.ExceptionTranslationFilter@37dd6374, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d701850]
2020-01-13 16:16:18,826 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 16:16:19,425 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 16:16:19,452 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 16:16:19,469 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 14.09 seconds (JVM running for 23.731)
2020-01-13 16:16:19,616 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 16:16:19,622 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 16:16:19,683 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 57 ms
2020-01-13 16:16:19,749 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 16:16:19,825 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 16:16:20,239 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 17:14:02,270 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 17:17:53,630 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 17:17:54,013 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2020-01-13 17:18:48,153 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 17:20:15,918 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 29503 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 17:20:15,934 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 17:20:27,156 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 17:20:27,213 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 17:20:27,297 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 17:20:27,344 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 17:20:27,346 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 17:20:27,396 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 17:20:27,979 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 17:20:27,987 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11583 ms
2020-01-13 17:20:32,151 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2020-01-13 17:20:32,256 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2020-01-13T19:20:30.944Z' ('2020-01-13T20:20:30.944+01:00' local time)
2020-01-13 17:20:32,291 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 17:20:32,305 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 17:20:32,307 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 17:20:32,322 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 17:20:32,333 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 17:20:32,334 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 17:20:32,802 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@537d8d74]
2020-01-13 17:20:32,804 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@16c6ed57]
2020-01-13 17:20:32,806 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@24cb2551]
2020-01-13 17:20:32,807 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4383fc2b]
2020-01-13 17:20:32,809 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@77628e67]
2020-01-13 17:20:33,248 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 17:20:34,345 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 17:20:35,575 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@46ddbd99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@81f9df9, org.springframework.security.web.context.SecurityContextPersistenceFilter@55eb0a27, org.springframework.security.web.header.HeaderWriterFilter@73e54618, org.springframework.security.web.authentication.logout.LogoutFilter@f8029e1, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@537d8d74]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@16c6ed57]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@24cb2551]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4383fc2b]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@77628e67]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e88e6e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ff065c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a1c4f4b, org.springframework.security.web.session.SessionManagementFilter@6da5367b, org.springframework.security.web.access.ExceptionTranslationFilter@70ee8d7f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45f3882f]
2020-01-13 17:20:35,802 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 17:20:37,059 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 17:20:37,093 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 17:20:37,113 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 23.7 seconds (JVM running for 42.16)
2020-01-13 17:40:40,496 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 17:40:40,499 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 17:40:40,538 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 38 ms
2020-01-13 17:40:40,616 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 17:40:40,736 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 17:40:41,084 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 17:40:41,115 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 17:40:41,122 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 17:40:41,298 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 17:40:41,530 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-2] Bitconnect!
2020-01-13 17:40:41,985 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;anonymousUser;;
2020-01-13 17:44:40,951 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 17:44:58,995 DEBUG org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator [background-preinit] Loaded expression factory via original TCCL
2020-01-13 17:44:59,477 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 29979 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 17:44:59,482 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 17:45:04,562 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 17:45:04,714 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 17:45:04,781 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 17:45:04,837 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 17:45:04,848 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 17:45:04,922 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 17:45:05,191 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 17:45:05,194 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5529 ms
2020-01-13 17:45:06,538 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 17:45:06,587 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-13T19:45:06.020Z' ('2020-01-13T20:45:06.020+01:00' local time)
2020-01-13 17:45:06,621 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 17:45:06,642 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 17:45:06,651 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 17:45:06,652 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 17:45:06,653 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 17:45:06,653 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 17:45:07,048 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2ff536fb]
2020-01-13 17:45:07,050 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3062afa1]
2020-01-13 17:45:07,050 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4eac0ebd]
2020-01-13 17:45:07,051 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@22863858]
2020-01-13 17:45:07,052 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7ba95f96]
2020-01-13 17:45:07,325 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 17:45:08,055 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 17:45:08,782 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@8c27e46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@87f9fff, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ee238d, org.springframework.security.web.header.HeaderWriterFilter@5a32faf8, org.springframework.security.web.authentication.logout.LogoutFilter@2f21a8d1, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2ff536fb]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3062afa1]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4eac0ebd]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@22863858]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7ba95f96]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47a1ffb5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b867188, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e49c4e0, org.springframework.security.web.session.SessionManagementFilter@23051486, org.springframework.security.web.access.ExceptionTranslationFilter@4803e308, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@262e61b8]
2020-01-13 17:45:08,983 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 17:45:09,792 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 17:45:09,849 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 17:45:09,860 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 11.761 seconds (JVM running for 19.986)
2020-01-13 17:45:33,528 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 17:45:33,528 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 17:45:33,559 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 30 ms
2020-01-13 17:45:33,603 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 17:45:33,766 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 17:45:34,146 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 17:45:34,157 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 17:45:34,172 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 17:45:34,250 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 17:45:34,501 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-2] Bitconnect!
2020-01-13 17:45:35,120 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-13 17:47:43,013 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 17:48:07,817 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 17:48:43,734 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 17:54:58,057 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 17:55:24,099 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 17:59:36,031 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:01:45,269 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:03:30,858 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 18:03:30,862 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 18:03:30,864 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 18:03:30,932 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-6] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 18:03:31,187 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-7] Bitconnect!
2020-01-13 18:03:31,224 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-13 18:04:11,038 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-13 18:04:11,042 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-13 18:04:11,043 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-13 18:04:11,108 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-10] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-13 18:04:11,374 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-1] Bitconnect!
2020-01-13 18:04:11,403 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-13 18:06:14,807 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:06:42,054 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 18:07:33,083 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on carlos-VirtualBox with PID 30758 (/home/carlos/Documents/prj/seal/GRAPms/target/classes started by carlos in /home/carlos/Documents/prj/seal/GRAPms)
2020-01-13 18:07:33,094 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 18:07:39,550 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 18:07:39,646 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 18:07:39,735 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 18:07:39,807 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 18:07:39,816 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 18:07:39,855 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2020-01-13 18:07:40,056 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 18:07:40,057 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6565 ms
2020-01-13 18:07:41,627 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 18:07:41,743 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-13T20:07:41.264Z' ('2020-01-13T21:07:41.264+01:00' local time)
2020-01-13 18:07:41,795 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 18:07:41,814 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 18:07:41,815 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 18:07:41,825 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 18:07:41,826 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 18:07:41,829 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 18:07:42,453 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@419c7c1a]
2020-01-13 18:07:42,454 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7f415a7b]
2020-01-13 18:07:42,456 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2b4ba02c]
2020-01-13 18:07:42,457 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@96ce880]
2020-01-13 18:07:42,473 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1c2f3511]
2020-01-13 18:07:42,847 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 18:07:43,519 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 18:07:44,353 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3233a5dc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d6ab769, org.springframework.security.web.context.SecurityContextPersistenceFilter@1062e1e4, org.springframework.security.web.header.HeaderWriterFilter@144f322f, org.springframework.security.web.authentication.logout.LogoutFilter@582345e3, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@419c7c1a]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7f415a7b]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2b4ba02c]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@96ce880]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1c2f3511]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f79dfda, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b58131d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d0a3d40, org.springframework.security.web.session.SessionManagementFilter@2dd37a4f, org.springframework.security.web.access.ExceptionTranslationFilter@2fb69a6d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e01e2b5]
2020-01-13 18:07:44,520 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 18:07:45,277 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 18:07:45,290 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 18:07:45,313 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 14.016 seconds (JVM running for 28.398)
2020-01-13 18:07:49,866 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 18:07:49,868 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 18:07:49,904 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 34 ms
2020-01-13 18:07:49,952 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 18:07:50,071 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 18:07:50,271 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'session' is not present]
2020-01-13 18:07:51,293 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:08:22,431 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:08:36,830 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:09:09,304 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'session' is not present]
2020-01-13 18:09:24,320 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:12:31,787 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:12:57,827 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:13:13,853 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;urn:example:idp;;;
2020-01-13 18:22:09,136 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-8] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 21:05:22,520 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 44111 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 21:05:22,525 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 21:05:25,795 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 21:05:25,825 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 21:05:25,860 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 21:05:25,890 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 21:05:25,893 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 21:05:25,927 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 21:05:26,161 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 21:05:26,164 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3525 ms
2020-01-13 21:05:26,886 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 21:05:26,915 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-13T23:05:26.581Z' ('2020-01-14T00:05:26.581+01:00' local time)
2020-01-13 21:05:27,040 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 21:05:27,044 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 21:05:27,045 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 21:05:27,045 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 21:05:27,046 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 21:05:27,046 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 21:05:27,267 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5662055f]
2020-01-13 21:05:27,267 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3ced288d]
2020-01-13 21:05:27,268 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4964c662]
2020-01-13 21:05:27,268 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14fa3e91]
2020-01-13 21:05:27,269 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@381b3c7a]
2020-01-13 21:05:27,426 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 21:05:27,854 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 21:05:28,372 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@122706a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a86e982, org.springframework.security.web.context.SecurityContextPersistenceFilter@4596c5, org.springframework.security.web.header.HeaderWriterFilter@55109c13, org.springframework.security.web.authentication.logout.LogoutFilter@5727e72c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5662055f]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3ced288d]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4964c662]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14fa3e91]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@381b3c7a]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b92d1c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2365cdf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3569f8f8, org.springframework.security.web.session.SessionManagementFilter@23dcb28a, org.springframework.security.web.access.ExceptionTranslationFilter@68bc174e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@183db244]
2020-01-13 21:05:28,458 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 21:05:28,711 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 21:05:28,719 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 21:05:28,724 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.84 seconds (JVM running for 22.894)
2020-01-13 21:06:16,435 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 21:06:16,437 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 21:06:16,448 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 10 ms
2020-01-13 21:06:16,466 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 21:06:16,510 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 21:06:16,674 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 21:08:02,934 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 21:11:04,291 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 21:11:50,467 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 47279 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 21:11:50,471 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 21:11:53,716 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 21:11:53,747 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 21:11:53,769 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 21:11:53,787 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 21:11:53,788 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 21:11:53,803 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 21:11:53,941 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 21:11:53,941 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3413 ms
2020-01-13 21:11:54,641 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 21:11:54,662 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-13T23:11:54.310Z' ('2020-01-14T00:11:54.310+01:00' local time)
2020-01-13 21:11:54,748 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 21:11:54,754 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 21:11:54,754 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 21:11:54,755 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 21:11:54,756 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 21:11:54,757 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 21:11:54,925 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@72cfa7da]
2020-01-13 21:11:54,926 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@53621608]
2020-01-13 21:11:54,927 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4f68c4b5]
2020-01-13 21:11:54,928 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2c3ea907]
2020-01-13 21:11:54,929 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1aef0ebf]
2020-01-13 21:11:55,048 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 21:11:55,373 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 21:11:55,813 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@401c7fb4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73c80a22, org.springframework.security.web.context.SecurityContextPersistenceFilter@1731258a, org.springframework.security.web.header.HeaderWriterFilter@238d7776, org.springframework.security.web.authentication.logout.LogoutFilter@2ea0a59b, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@72cfa7da]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@53621608]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4f68c4b5]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2c3ea907]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1aef0ebf]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f9d1fa4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@751a3315, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@710a09aa, org.springframework.security.web.session.SessionManagementFilter@7666294a, org.springframework.security.web.access.ExceptionTranslationFilter@2a34cc02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31d533a1]
2020-01-13 21:11:55,878 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 21:11:56,263 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 21:11:56,271 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 21:11:56,276 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.535 seconds (JVM running for 10.447)
2020-01-13 21:12:31,374 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 21:12:31,375 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 21:12:31,386 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2020-01-13 21:12:31,403 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 21:12:31,430 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 21:12:31,637 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 21:13:32,980 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-3] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'session' is not present]
2020-01-13 21:13:33,536 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 21:14:48,748 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at esmo.test.ap.apms.controllers.SamlControllers.samlSuccessResponseSession(SamlControllers.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:844)
2020-01-13 21:14:49,221 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 22:48:39,433 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 22:48:51,398 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 57264 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 22:48:51,402 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 22:48:54,511 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 22:48:54,553 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 22:48:54,593 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 22:48:54,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 22:48:54,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 22:48:54,665 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 22:48:54,792 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 22:48:54,793 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3316 ms
2020-01-13 22:48:55,422 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 22:48:55,445 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T00:48:55.153Z' ('2020-01-14T01:48:55.153+01:00' local time)
2020-01-13 22:48:55,572 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 22:48:55,577 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 22:48:55,577 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 22:48:55,578 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 22:48:55,578 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 22:48:55,579 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 22:48:55,765 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3f88fd2]
2020-01-13 22:48:55,766 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2d670b84]
2020-01-13 22:48:55,766 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2995c694]
2020-01-13 22:48:55,766 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@44337e0f]
2020-01-13 22:48:55,767 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5bd80b91]
2020-01-13 22:48:55,899 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 22:48:56,221 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 22:48:56,665 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@50da5568, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c7282ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@38e6f0dd, org.springframework.security.web.header.HeaderWriterFilter@4dea5afd, org.springframework.security.web.authentication.logout.LogoutFilter@17826d3c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3f88fd2]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@2d670b84]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@2995c694]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@44337e0f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@5bd80b91]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c0240aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@667f4884, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27557a55, org.springframework.security.web.session.SessionManagementFilter@4152dcff, org.springframework.security.web.access.ExceptionTranslationFilter@2c72278a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@240ba1b2]
2020-01-13 22:48:56,742 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 22:48:57,137 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 22:48:57,145 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 22:48:57,149 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.606 seconds (JVM running for 11.045)
2020-01-13 22:49:13,156 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 22:49:13,157 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 22:49:13,171 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2020-01-13 22:49:13,190 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 22:49:13,222 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 22:49:13,277 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at esmo.test.ap.apms.controllers.SamlControllers.samlSuccessResponseSession(SamlControllers.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:844)
2020-01-13 22:49:14,138 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:24:02,440 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:26:05,691 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:27:03,553 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 64668 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:27:03,558 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:27:06,725 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:27:06,783 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:27:06,806 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:27:06,839 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:27:06,840 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:27:06,857 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:27:06,981 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:27:06,982 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3363 ms
2020-01-13 23:27:07,677 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:27:07,698 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:27:07.379Z' ('2020-01-14T02:27:07.379+01:00' local time)
2020-01-13 23:27:07,791 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:27:07,795 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:27:07,795 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:27:07,796 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:27:07,797 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:27:07,797 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:27:07,959 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4703fb85]
2020-01-13 23:27:07,960 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@284abb16]
2020-01-13 23:27:07,960 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6aa5acbb]
2020-01-13 23:27:07,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7ed5de91]
2020-01-13 23:27:07,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@9cc24bb]
2020-01-13 23:27:08,103 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:27:08,423 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:27:08,880 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@5059cd6c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@141663f2, org.springframework.security.web.context.SecurityContextPersistenceFilter@13cb828f, org.springframework.security.web.header.HeaderWriterFilter@3b4546ab, org.springframework.security.web.authentication.logout.LogoutFilter@7c85c3ab, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4703fb85]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@284abb16]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6aa5acbb]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7ed5de91]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@9cc24bb]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6269523a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b7f231c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c9d2fd8, org.springframework.security.web.session.SessionManagementFilter@739f6482, org.springframework.security.web.access.ExceptionTranslationFilter@7e8223cd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f5c2479]
2020-01-13 23:27:08,947 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:27:09,230 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:27:09,239 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:27:09,244 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.577 seconds (JVM running for 10.878)
2020-01-13 23:27:20,747 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:27:20,748 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:27:20,767 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 19 ms
2020-01-13 23:27:20,798 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:27:20,846 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:27:21,058 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:27:44,093 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:27:56,979 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 64877 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:27:56,983 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:27:59,725 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:27:59,750 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:27:59,773 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:27:59,797 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:27:59,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:27:59,809 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:27:59,911 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:27:59,912 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2877 ms
2020-01-13 23:28:00,530 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:28:00,565 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:28:00.269Z' ('2020-01-14T02:28:00.269+01:00' local time)
2020-01-13 23:28:00,712 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:28:00,717 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:28:00,718 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:28:00,721 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:28:00,723 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:28:00,724 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:28:00,912 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1bbdcec4]
2020-01-13 23:28:00,913 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@72fb2829]
2020-01-13 23:28:00,914 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5c0b540b]
2020-01-13 23:28:00,915 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@46462ab4]
2020-01-13 23:28:00,916 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@460faddc]
2020-01-13 23:28:01,084 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:28:01,519 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:28:01,991 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@2481430f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eee7b6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@66d6419f, org.springframework.security.web.header.HeaderWriterFilter@67ed4244, org.springframework.security.web.authentication.logout.LogoutFilter@32f645d4, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1bbdcec4]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@72fb2829]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5c0b540b]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@46462ab4]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@460faddc]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4070c42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5977a340, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79c0f81f, org.springframework.security.web.session.SessionManagementFilter@4ffead17, org.springframework.security.web.access.ExceptionTranslationFilter@42b938fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ca90544]
2020-01-13 23:28:02,064 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:28:02,341 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:28:02,351 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:28:02,358 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.043 seconds (JVM running for 9.736)
2020-01-13 23:28:13,222 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:28:13,223 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:28:13,240 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2020-01-13 23:28:13,262 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:28:13,296 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:28:13,506 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:28:26,458 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:28:52,629 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:31:00,298 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:31:07,229 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:31:29,020 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:31:29,022 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-4] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://esmo-gateway.eu/grap/saml/SSO'
2020-01-13 23:31:29,682 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:34:46,390 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:35:02,095 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-8] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:35:02,099 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-8] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://esmo-gateway.eu/grap/saml/SSO'
2020-01-13 23:35:02,768 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:35:08,966 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:35:17,808 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 66313 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:35:17,812 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:35:20,577 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:35:20,607 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:35:20,631 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:35:20,666 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:35:20,667 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:35:20,685 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:35:20,835 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:35:20,836 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2941 ms
2020-01-13 23:35:21,451 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:35:21,475 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:35:21.176Z' ('2020-01-14T02:35:21.176+01:00' local time)
2020-01-13 23:35:21,587 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:35:21,594 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:35:21,595 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:35:21,596 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:35:21,597 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:35:21,597 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:35:21,750 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6337fe9d]
2020-01-13 23:35:21,751 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@71db666f]
2020-01-13 23:35:21,751 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@19b35a19]
2020-01-13 23:35:21,751 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@18d8c03d]
2020-01-13 23:35:21,752 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@79dc8750]
2020-01-13 23:35:21,878 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:35:22,190 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:35:22,589 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@33b06dc5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@267a73f4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1eb19b13, org.springframework.security.web.header.HeaderWriterFilter@1ff79f42, org.springframework.security.web.authentication.logout.LogoutFilter@59b2d1a1, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6337fe9d]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@71db666f]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@19b35a19]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@18d8c03d]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@79dc8750]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@135a8fed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3176d23d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6074d807, org.springframework.security.web.session.SessionManagementFilter@24db5ce1, org.springframework.security.web.access.ExceptionTranslationFilter@33f68602, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47edcfaa]
2020-01-13 23:35:22,656 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:35:23,124 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:35:23,131 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:35:23,136 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.011 seconds (JVM running for 10.349)
2020-01-13 23:35:31,234 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:35:31,234 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:35:31,247 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-01-13 23:35:31,265 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:35:31,293 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:35:31,376 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:35:31,379 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-1] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:35:32,224 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:35:34,319 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:35:50,359 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-6] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:35:50,359 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-6] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:35:51,039 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:36:12,866 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:36:20,097 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 66534 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:36:20,103 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:36:23,362 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:36:23,393 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:36:23,415 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:36:23,443 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:36:23,443 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:36:23,458 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:36:23,588 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:36:23,589 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3428 ms
2020-01-13 23:36:24,296 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:36:24,321 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:36:23.974Z' ('2020-01-14T02:36:23.974+01:00' local time)
2020-01-13 23:36:24,440 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:36:24,444 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:36:24,444 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:36:24,445 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:36:24,445 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:36:24,445 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:36:24,620 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4f59e6ec]
2020-01-13 23:36:24,621 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@42157c46]
2020-01-13 23:36:24,621 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1954e0cd]
2020-01-13 23:36:24,622 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@514d7dde]
2020-01-13 23:36:24,623 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1c4c735a]
2020-01-13 23:36:24,773 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:36:25,112 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:36:25,613 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@5e3e73c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d84a4e7, org.springframework.security.web.context.SecurityContextPersistenceFilter@194e504b, org.springframework.security.web.header.HeaderWriterFilter@23a21870, org.springframework.security.web.authentication.logout.LogoutFilter@63ef9440, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4f59e6ec]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@42157c46]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1954e0cd]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@514d7dde]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@1c4c735a]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74adcc3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24a87707, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@491240d7, org.springframework.security.web.session.SessionManagementFilter@63f0ff3c, org.springframework.security.web.access.ExceptionTranslationFilter@2d4cba11, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b61cef8]
2020-01-13 23:36:25,683 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:36:26,148 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:36:26,158 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:36:26,163 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.739 seconds (JVM running for 11.114)
2020-01-13 23:36:26,214 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:36:26,216 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:36:26,234 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 17 ms
2020-01-13 23:36:26,254 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:36:26,289 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:36:26,387 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:36:26,409 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-1] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:36:27,260 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:36:52,312 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:36:52,313 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-4] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:36:52,979 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:37:31,593 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:37:38,181 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 66816 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:37:38,186 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:37:40,942 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:37:40,966 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:37:40,988 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:37:41,009 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:37:41,010 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:37:41,027 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:37:41,178 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:37:41,178 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2934 ms
2020-01-13 23:37:41,815 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:37:41,834 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:37:41.547Z' ('2020-01-14T02:37:41.547+01:00' local time)
2020-01-13 23:37:41,919 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:37:41,922 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:37:41,922 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:37:41,923 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:37:41,923 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:37:41,923 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:37:42,267 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@287c1563]
2020-01-13 23:37:42,268 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1c270587]
2020-01-13 23:37:42,269 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5d19cd6f]
2020-01-13 23:37:42,270 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14565479]
2020-01-13 23:37:42,270 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6aab1278]
2020-01-13 23:37:42,492 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:37:42,928 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:37:43,334 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@4e77ae2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64fef3b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c6c210c, org.springframework.security.web.header.HeaderWriterFilter@16d77490, org.springframework.security.web.authentication.logout.LogoutFilter@762eb866, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@287c1563]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1c270587]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5d19cd6f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@14565479]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@6aab1278]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49462e09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fcbe523, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95168cd, org.springframework.security.web.session.SessionManagementFilter@71a8fb8e, org.springframework.security.web.access.ExceptionTranslationFilter@53e28723, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c7ad434]
2020-01-13 23:37:43,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:37:43,675 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:37:43,685 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:37:43,690 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.064 seconds (JVM running for 9.43)
2020-01-13 23:37:52,168 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:37:52,169 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:37:52,182 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-01-13 23:37:52,202 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:37:52,231 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:37:52,448 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:38:05,932 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:38:05,936 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-3] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:38:06,661 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:38:20,640 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:38:35,146 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 67019 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:38:35,151 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:38:38,306 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:38:38,335 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:38:38,354 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:38:38,377 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:38:38,377 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:38:38,390 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:38:38,496 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:38:38,496 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3286 ms
2020-01-13 23:38:39,064 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:38:39,086 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:38:38.830Z' ('2020-01-14T02:38:38.830+01:00' local time)
2020-01-13 23:38:39,170 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:38:39,174 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:38:39,174 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:38:39,175 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:38:39,175 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:38:39,190 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'samlEntryPoint': Unsatisfied dependency expressed through method 'setContextProvider' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
2020-01-13 23:38:39,214 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-13 23:38:39,220 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@10.0.1/java.lang.Object.wait(Native Method)
 java.base@10.0.1/java.util.TimerThread.mainLoop(Timer.java:553)
 java.base@10.0.1/java.util.TimerThread.run(Timer.java:506)
2020-01-13 23:38:39,221 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Metadata-reload] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@10.0.1/java.lang.Object.wait(Native Method)
 java.base@10.0.1/java.util.TimerThread.mainLoop(Timer.java:553)
 java.base@10.0.1/java.util.TimerThread.run(Timer.java:506)
2020-01-13 23:38:39,223 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2020-01-13 23:38:40,236 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-13 23:38:40,242 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.base/java.lang.Thread.run(Thread.java:844)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	... 14 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlEntryPoint': Unsatisfied dependency expressed through method 'setContextProvider' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:676)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	... 60 common frames omitted
Caused by: java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.util.Assert.notNull(Assert.java:198)
	at org.springframework.security.saml.context.SAMLContextProviderLB.afterPropertiesSet(SAMLContextProviderLB.java:168)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 70 common frames omitted
2020-01-13 23:40:32,682 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 67425 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:40:32,691 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:40:35,718 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:40:35,746 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:40:35,773 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:40:35,796 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:40:35,797 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:40:35,814 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:40:35,969 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:40:35,969 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3153 ms
2020-01-13 23:40:36,657 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:40:36,678 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:40:36.387Z' ('2020-01-14T02:40:36.387+01:00' local time)
2020-01-13 23:40:36,819 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:40:36,826 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:40:36,827 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:40:36,828 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:40:36,829 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:40:36,830 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:40:37,056 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1eb9a197]
2020-01-13 23:40:37,057 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1eb54e02]
2020-01-13 23:40:37,058 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@952c30f]
2020-01-13 23:40:37,058 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7289c0a1]
2020-01-13 23:40:37,059 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@68f8c2fd]
2020-01-13 23:40:37,215 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:40:37,553 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:40:37,988 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@10d8c8a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17f56f11, org.springframework.security.web.context.SecurityContextPersistenceFilter@726e9a83, org.springframework.security.web.header.HeaderWriterFilter@7681fc90, org.springframework.security.web.authentication.logout.LogoutFilter@3beeb85d, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1eb9a197]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1eb54e02]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@952c30f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7289c0a1]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@68f8c2fd]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@81dba3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@574177ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f48e22d, org.springframework.security.web.session.SessionManagementFilter@5a593f3b, org.springframework.security.web.access.ExceptionTranslationFilter@b622a80, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fb22eb3]
2020-01-13 23:40:38,066 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:40:38,517 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:40:38,528 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:40:38,536 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.605 seconds (JVM running for 9.911)
2020-01-13 23:40:38,679 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:40:38,680 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:40:38,714 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 33 ms
2020-01-13 23:40:38,753 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:40:38,792 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:40:39,044 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:41:07,050 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:41:16,104 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 67587 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:41:16,110 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:41:18,957 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:41:18,982 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:41:19,004 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:41:19,026 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:41:19,027 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:41:19,041 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:41:19,190 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:41:19,191 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3021 ms
2020-01-13 23:41:19,813 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:41:19,832 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:41:19.557Z' ('2020-01-14T02:41:19.557+01:00' local time)
2020-01-13 23:41:19,928 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:41:19,932 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:41:19,933 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:41:19,935 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:41:19,937 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:41:19,939 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:41:20,172 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7a24b799]
2020-01-13 23:41:20,173 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@bf8e34a]
2020-01-13 23:41:20,173 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4ba03c40]
2020-01-13 23:41:20,174 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@11f825ca]
2020-01-13 23:41:20,174 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7a981543]
2020-01-13 23:41:20,295 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:41:20,599 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:41:20,984 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3f5fad57, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17191cfa, org.springframework.security.web.context.SecurityContextPersistenceFilter@183c38, org.springframework.security.web.header.HeaderWriterFilter@3fb74a76, org.springframework.security.web.authentication.logout.LogoutFilter@1e8a71b6, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7a24b799]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@bf8e34a]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4ba03c40]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@11f825ca]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7a981543]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a2d1d32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72037585, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bcf7251, org.springframework.security.web.session.SessionManagementFilter@53aa8920, org.springframework.security.web.access.ExceptionTranslationFilter@7db01931, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fc1c889]
2020-01-13 23:41:21,060 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:41:21,471 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:41:21,479 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:41:21,485 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.97 seconds (JVM running for 9.66)
2020-01-13 23:41:25,685 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:41:25,687 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:41:25,703 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2020-01-13 23:41:25,722 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:41:25,767 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:41:26,789 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:41:28,377 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:41:54,967 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-6] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:41:54,968 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-6] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:41:55,674 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:42:28,908 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-9] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:42:28,910 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-9] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:42:29,692 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:42:38,207 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:45:21,754 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:45:21,758 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-4] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:45:22,468 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:49:16,328 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:49:24,452 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 69188 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:49:24,456 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:49:27,127 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:49:27,150 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:49:27,174 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:49:27,204 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:49:27,205 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:49:27,223 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:49:27,357 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:49:27,357 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2843 ms
2020-01-13 23:49:28,051 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:49:28,068 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:49:27.741Z' ('2020-01-14T02:49:27.741+01:00' local time)
2020-01-13 23:49:28,180 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:49:28,184 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:49:28,185 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:49:28,185 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:49:28,186 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:49:28,186 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:49:28,376 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6ad28714]
2020-01-13 23:49:28,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@471ee7a8]
2020-01-13 23:49:28,378 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7abd5ab4]
2020-01-13 23:49:28,379 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@366f933]
2020-01-13 23:49:28,380 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@26268f91]
2020-01-13 23:49:28,556 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:49:28,882 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:49:29,279 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3af39685, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71edc14, org.springframework.security.web.context.SecurityContextPersistenceFilter@30ba3852, org.springframework.security.web.header.HeaderWriterFilter@72226a59, org.springframework.security.web.authentication.logout.LogoutFilter@79ebebcd, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6ad28714]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@471ee7a8]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7abd5ab4]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@366f933]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@26268f91]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@379c9035, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726f91e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4474d748, org.springframework.security.web.session.SessionManagementFilter@706c9fcd, org.springframework.security.web.access.ExceptionTranslationFilter@5ef278c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1188264c]
2020-01-13 23:49:29,443 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:49:30,079 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:49:30,103 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:49:30,113 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.227 seconds (JVM running for 9.756)
2020-01-13 23:49:37,429 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:49:37,431 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:49:37,446 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 15 ms
2020-01-13 23:49:37,465 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:49:37,504 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:49:37,711 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:49:56,298 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:49:56,302 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-3] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:49:57,103 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:50:23,120 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:50:44,539 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-8] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:50:44,540 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-8] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:50:45,179 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:52:28,824 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-13 23:52:35,930 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 69833 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:52:35,937 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:52:38,559 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:52:38,584 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:52:38,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:52:38,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:52:38,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:52:38,659 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:52:38,837 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:52:38,838 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2825 ms
2020-01-13 23:52:39,419 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:52:39,440 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:52:39.177Z' ('2020-01-14T02:52:39.177+01:00' local time)
2020-01-13 23:52:39,648 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:52:39,653 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:52:39,654 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:52:39,654 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:52:39,655 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:52:39,655 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:52:39,667 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'samlEntryPoint': Unsatisfied dependency expressed through method 'setContextProvider' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
2020-01-13 23:52:39,720 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-13 23:52:39,735 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@10.0.1/java.lang.Object.wait(Native Method)
 java.base@10.0.1/java.util.TimerThread.mainLoop(Timer.java:553)
 java.base@10.0.1/java.util.TimerThread.run(Timer.java:506)
2020-01-13 23:52:39,740 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [Metadata-reload] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@10.0.1/java.lang.Object.wait(Native Method)
 java.base@10.0.1/java.util.TimerThread.mainLoop(Timer.java:553)
 java.base@10.0.1/java.util.TimerThread.run(Timer.java:506)
2020-01-13 23:52:39,748 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2020-01-13 23:52:40,757 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-13 23:52:40,762 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at esmo.test.ap.apms.ApmsApplication.main(ApmsApplication.java:10)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:558)
	at java.base/java.lang.Thread.run(Thread.java:844)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	... 14 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'samlEntryPoint': Unsatisfied dependency expressed through method 'setContextProvider' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:676)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contextProvider' defined in class path resource [esmo/test/ap/apms/SamlSecurityConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:668)
	... 60 common frames omitted
Caused by: java.lang.IllegalArgumentException: Context path must be set
	at org.springframework.util.Assert.notNull(Assert.java:198)
	at org.springframework.security.saml.context.SAMLContextProviderLB.afterPropertiesSet(SAMLContextProviderLB.java:168)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 70 common frames omitted
2020-01-13 23:54:21,637 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 70208 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-13 23:54:21,642 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-13 23:54:24,275 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-13 23:54:24,303 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:54:24,330 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-13 23:54:24,356 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-13 23:54:24,357 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-13 23:54:24,376 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-13 23:54:24,512 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-13 23:54:24,512 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2809 ms
2020-01-13 23:54:25,232 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-13 23:54:25,253 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T01:54:24.877Z' ('2020-01-14T02:54:24.877+01:00' local time)
2020-01-13 23:54:25,407 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-13 23:54:25,413 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-13 23:54:25,413 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-13 23:54:25,414 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-13 23:54:25,415 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-13 23:54:25,415 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-13 23:54:25,611 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7002424f]
2020-01-13 23:54:25,612 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@a70e5]
2020-01-13 23:54:25,613 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3c48028d]
2020-01-13 23:54:25,613 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@428ccf4a]
2020-01-13 23:54:25,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@410e1e43]
2020-01-13 23:54:25,747 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-13 23:54:26,113 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-13 23:54:26,515 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@87f73ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e54cb32, org.springframework.security.web.context.SecurityContextPersistenceFilter@70b3756e, org.springframework.security.web.header.HeaderWriterFilter@c0f71c7, org.springframework.security.web.authentication.logout.LogoutFilter@3b430f83, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7002424f]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@a70e5]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3c48028d]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@428ccf4a]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@410e1e43]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21b2d2aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e10acd5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78ebf362, org.springframework.security.web.session.SessionManagementFilter@3a6be7fe, org.springframework.security.web.access.ExceptionTranslationFilter@1c94c663, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66dd0477]
2020-01-13 23:54:26,592 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-13 23:54:26,967 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-13 23:54:26,975 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-13 23:54:26,980 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.884 seconds (JVM running for 9.198)
2020-01-13 23:54:32,469 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-13 23:54:32,470 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-13 23:54:32,485 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2020-01-13 23:54:32,505 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-13 23:54:32,536 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-13 23:54:32,758 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:54:52,118 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:54:52,121 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-3] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:54:53,001 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:03,415 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-6] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:55:03,416 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-6] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:55:04,071 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:06,237 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-9] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:55:06,238 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-9] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:55:06,953 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:09,145 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:18,776 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:55:18,777 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-3] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-13 23:55:19,469 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:31,831 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-13 23:55:42,447 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-7] SAML protocol message was not signed, skipping XML signature processing
2020-01-13 23:55:42,448 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-7] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-13 23:55:43,172 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
