2019-05-16 11:59:38,632 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 31843 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 11:59:38,652 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 11:59:45,915 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 11:59:45,967 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 11:59:45,997 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 11:59:45,998 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 11:59:46,018 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 11:59:46,342 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 11:59:46,344 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7493 ms
2019-05-16 11:59:49,141 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 11:59:49,264 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T11:59:47.826Z' ('2019-05-16T14:59:47.826+03:00' local time)
2019-05-16 11:59:49,958 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@73be4cdd]
2019-05-16 11:59:49,958 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@bfd97fb]
2019-05-16 11:59:49,970 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6fa2a006]
2019-05-16 11:59:49,971 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@34eaf9c1]
2019-05-16 11:59:49,972 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@11d1735e]
2019-05-16 11:59:50,549 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 11:59:51,775 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 11:59:52,861 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@590dea35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@696105c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@5487a8f1, org.springframework.security.web.header.HeaderWriterFilter@f439e0f, org.springframework.security.web.authentication.logout.LogoutFilter@c29b0dc, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@73be4cdd]], [ Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@bfd97fb]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6fa2a006]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@34eaf9c1]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@11d1735e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b2ff4df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d00b469, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21ab919c, org.springframework.security.web.session.SessionManagementFilter@5296f00c, org.springframework.security.web.access.ExceptionTranslationFilter@5f4df55e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b0494a8]
2019-05-16 11:59:53,013 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 11:59:53,133 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 11:59:53,161 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 15.734 seconds (JVM running for 16.561)
2019-05-16 12:00:43,485 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 32540 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 12:00:43,527 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 12:00:49,465 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 12:00:49,503 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 12:00:49,521 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 12:00:49,522 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 12:00:49,537 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 12:00:49,701 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 12:00:49,701 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5884 ms
2019-05-16 12:00:50,854 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 12:00:50,874 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T12:00:50.232Z' ('2019-05-16T15:00:50.232+03:00' local time)
2019-05-16 12:00:51,385 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5072e638]
2019-05-16 12:00:51,385 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@5402612e]
2019-05-16 12:00:51,386 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@79e2606f]
2019-05-16 12:00:51,386 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7c69e1e1]
2019-05-16 12:00:51,387 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7a730479]
2019-05-16 12:00:51,677 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 12:00:52,249 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 12:00:53,038 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@510e4d79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54d2f5d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@73852720, org.springframework.security.web.header.HeaderWriterFilter@1b9c716f, org.springframework.security.web.authentication.logout.LogoutFilter@637506d8, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5072e638]], [ Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@5402612e]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@79e2606f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7c69e1e1]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@7a730479]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ae0a26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27d6267e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c29b0dc, org.springframework.security.web.session.SessionManagementFilter@33f2cf82, org.springframework.security.web.access.ExceptionTranslationFilter@3601549f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@155c7eae]
2019-05-16 12:00:53,231 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 12:00:53,322 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 12:00:53,326 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 10.899 seconds (JVM running for 11.614)
2019-05-16 12:03:04,446 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 32684 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 12:03:04,454 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 12:03:11,636 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 12:03:13,126 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 12:03:13,154 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T12:03:12.482Z' ('2019-05-16T15:03:12.482+03:00' local time)
2019-05-16 12:03:13,526 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@781dbe44]
2019-05-16 12:03:13,526 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@7d66a126]
2019-05-16 12:03:13,526 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1132baa3]
2019-05-16 12:03:13,527 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2fdf22f7]
2019-05-16 12:03:13,527 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a2546d6]
2019-05-16 12:03:14,387 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 12:03:15,194 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@520a95ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30afb481, org.springframework.security.web.context.SecurityContextPersistenceFilter@844e66d, org.springframework.security.web.header.HeaderWriterFilter@5b3518e1, org.springframework.security.web.authentication.logout.LogoutFilter@191f4d65, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@781dbe44]], [ Ant [pattern='/saml/login/**'], [org.springframework.security.saml.SAMLEntryPoint@7d66a126]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1132baa3]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2fdf22f7]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a2546d6]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26a45089, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33e50ff2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c573229, org.springframework.security.web.session.SessionManagementFilter@3a88f6fb, org.springframework.security.web.access.ExceptionTranslationFilter@2e7bb00e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@595814a1]
2019-05-16 12:03:15,387 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 12:03:15,388 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 12:03:15,419 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2019-05-16 12:03:15,480 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 12.26 seconds (JVM running for 14.504)
2019-05-16 12:03:18,794 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 12:03:48,513 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-16 12:03:48,514 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-05-16 12:03:48,530 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2019-05-16 12:03:48,585 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2019-05-16 12:03:48,586 WARN org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Generated default entity base URL http://localhost:8080 based on values in the first server request. Please set property entityBaseURL on MetadataGenerator bean to fixate the value.
2019-05-16 12:03:48,627 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2019-05-16 12:04:08,227 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"819c3a6a-a51c-417d-a00e-68c32d265669","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key b8f5b9ed-aab8-4e12-b0ee-508093877e70 to cache ApMs
2019-05-16 12:04:10,503 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 12:04:17,543 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-2] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 12:04:17,877 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_09cedad41de3459a094adadc5bdf7eb7;;
2019-05-16 12:09:17,997 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;156.67.217.186;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 12:09:19,505 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;156.67.217.186;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 13:20:59,365 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;139.162.79.87;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 17:48:09,603 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;91.204.207.9;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 18:08:12,747 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;186.211.160.186;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 18:08:16,824 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;187.57.70.140;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 18:15:18,122 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 18:15:18,205 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;127.0.0.1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 18:37:06,080 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 18:37:06,082 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T18:37:05.842Z' ('2019-05-16T21:37:05.842+03:00' local time)
2019-05-16 18:46:08,930 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;80.114.203.226;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 19:18:24,743 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;115.238.34.20;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 19:19:39,165 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;122.224.129.234;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 19:22:45,892 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;74.82.47.4;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:25:00,104 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 15685 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:25:00,125 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 20:25:07,929 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 20:25:07,982 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 20:25:08,019 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 20:25:08,020 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 20:25:08,041 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 20:25:08,986 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 20:25:08,986 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8715 ms
2019-05-16 20:25:11,899 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:25:12,058 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:25:10.965Z' ('2019-05-16T23:25:10.965+03:00' local time)
2019-05-16 20:25:12,819 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1255de25]
2019-05-16 20:25:12,820 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@42e202d7]
2019-05-16 20:25:12,822 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@436a563f]
2019-05-16 20:25:12,823 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@76e00bdb]
2019-05-16 20:25:12,824 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2a54c92e]
2019-05-16 20:25:13,316 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:25:14,260 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:25:15,041 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@4f676900, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5521407f, org.springframework.security.web.context.SecurityContextPersistenceFilter@33a3e5db, org.springframework.security.web.header.HeaderWriterFilter@7eebb316, org.springframework.security.web.authentication.logout.LogoutFilter@602c167e, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@1255de25]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@42e202d7]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@436a563f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@76e00bdb]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2a54c92e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@679f59f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a055cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42b500aa, org.springframework.security.web.session.SessionManagementFilter@2a504ea7, org.springframework.security.web.access.ExceptionTranslationFilter@6081f330, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36120a8b]
2019-05-16 20:25:15,205 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 20:25:15,406 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 20:25:15,422 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 16.361 seconds (JVM running for 17.048)
2019-05-16 20:25:35,060 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 15839 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:25:35,062 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:25:41,219 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:25:42,473 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:25:42,558 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:25:41.901Z' ('2019-05-16T23:25:41.901+03:00' local time)
2019-05-16 20:25:43,014 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]
2019-05-16 20:25:43,015 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]
2019-05-16 20:25:43,016 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]
2019-05-16 20:25:43,017 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]
2019-05-16 20:25:43,018 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]
2019-05-16 20:25:45,795 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:25:47,564 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3c09a350, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@592a1882, org.springframework.security.web.context.SecurityContextPersistenceFilter@33ebe4f0, org.springframework.security.web.header.HeaderWriterFilter@5b665a30, org.springframework.security.web.authentication.logout.LogoutFilter@59baf2c7, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29147c12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a2a7492, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48368a08, org.springframework.security.web.session.SessionManagementFilter@75ed7512, org.springframework.security.web.access.ExceptionTranslationFilter@5fd18419, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1209a0f]
2019-05-16 20:25:47,817 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:25:47,818 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:25:48,004 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 185 ms
2019-05-16 20:25:48,130 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 13.935 seconds (JVM running for 15.241)
2019-05-16 20:25:50,714 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:26:32,770 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-16 20:26:32,770 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-05-16 20:26:32,782 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2019-05-16 20:26:32,804 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2019-05-16 20:26:32,805 WARN org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Generated default entity base URL http://localhost:8080 based on values in the first server request. Please set property entityBaseURL on MetadataGenerator bean to fixate the value.
2019-05-16 20:26:32,880 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2019-05-16 20:26:33,511 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] something wring with the SM session!
2019-05-16 20:26:33,512 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] calcualted matching sender ids do not include the jwt recipient! IdPms001
2019-05-16 20:26:33,512 ERROR esmo.test.ap.apms.controllers.Controllers [http-nio-8080-exec-1] OK
2019-05-16 20:27:12,095 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:27:12,099 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:27:12,102 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:27:12,108 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:27:12,112 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:27:50,378 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 16052 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:27:50,380 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:27:53,932 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:27:54,983 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:27:54,996 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:27:54.489Z' ('2019-05-16T23:27:54.489+03:00' local time)
2019-05-16 20:27:55,237 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]
2019-05-16 20:27:55,237 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]
2019-05-16 20:27:55,238 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]
2019-05-16 20:27:55,238 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]
2019-05-16 20:27:55,239 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]
2019-05-16 20:27:55,813 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:27:56,443 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3c09a350, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@592a1882, org.springframework.security.web.context.SecurityContextPersistenceFilter@33ebe4f0, org.springframework.security.web.header.HeaderWriterFilter@5b665a30, org.springframework.security.web.authentication.logout.LogoutFilter@59baf2c7, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29147c12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a2a7492, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48368a08, org.springframework.security.web.session.SessionManagementFilter@75ed7512, org.springframework.security.web.access.ExceptionTranslationFilter@5fd18419, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1209a0f]
2019-05-16 20:27:56,569 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:27:56,570 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:27:56,586 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 16 ms
2019-05-16 20:27:56,626 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.739 seconds (JVM running for 7.656)
2019-05-16 20:27:57,989 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:29:02,631 ERROR esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] something wring with the SM session!
2019-05-16 20:29:02,633 ERROR esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] calcualted matching sender ids do not include the jwt recipient! IdPms001
2019-05-16 20:29:02,634 ERROR esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] OK
2019-05-16 20:29:06,556 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:29:06,573 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-7] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:29:06,575 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:29:06,575 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:29:06,575 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:30:43,275 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 16273 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:30:43,277 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:30:47,062 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:30:48,001 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:30:48,017 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:30:47.523Z' ('2019-05-16T23:30:47.523+03:00' local time)
2019-05-16 20:30:48,260 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7661e474]
2019-05-16 20:30:48,260 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@20ffb8d5]
2019-05-16 20:30:48,261 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@307c59ea]
2019-05-16 20:30:48,261 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@57e03347]
2019-05-16 20:30:48,262 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2edb2f8b]
2019-05-16 20:30:48,825 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:30:49,378 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@592a1882, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48368a08, org.springframework.security.web.context.SecurityContextPersistenceFilter@37cfda1c, org.springframework.security.web.header.HeaderWriterFilter@26a45089, org.springframework.security.web.authentication.logout.LogoutFilter@ce655b9, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7661e474]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@20ffb8d5]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@307c59ea]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@57e03347]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@2edb2f8b]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f45bc8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6326c5ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41a23470, org.springframework.security.web.session.SessionManagementFilter@5ab5924c, org.springframework.security.web.access.ExceptionTranslationFilter@3a88f6fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@696174d3]
2019-05-16 20:30:49,504 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:30:49,505 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:30:49,522 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 17 ms
2019-05-16 20:30:49,564 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.758 seconds (JVM running for 7.515)
2019-05-16 20:30:49,949 INFO esmo.test.ap.apms.service.impl.NetworkServiceImpl [main] request failed will retry
2019-05-16 20:30:50,104 INFO esmo.test.ap.apms.service.impl.NetworkServiceImpl [main] request failed will retry
2019-05-16 20:30:50,219 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:31:16,529 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 16377 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:31:16,532 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:31:20,686 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:31:21,487 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:31:21,504 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:31:21.091Z' ('2019-05-16T23:31:21.091+03:00' local time)
2019-05-16 20:31:21,800 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2fdf22f7]
2019-05-16 20:31:21,801 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3a2546d6]
2019-05-16 20:31:21,801 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7282af25]
2019-05-16 20:31:21,802 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7661e474]
2019-05-16 20:31:21,803 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@20ffb8d5]
2019-05-16 20:31:22,384 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:31:22,917 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@77ecdc2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@714f1a44, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ed7512, org.springframework.security.web.header.HeaderWriterFilter@7b451bf4, org.springframework.security.web.authentication.logout.LogoutFilter@138a85d3, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2fdf22f7]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3a2546d6]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7282af25]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7661e474]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@20ffb8d5]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33ebe4f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21e484b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c09a350, org.springframework.security.web.session.SessionManagementFilter@5b665a30, org.springframework.security.web.access.ExceptionTranslationFilter@283d3628, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4948daec]
2019-05-16 20:31:23,037 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:31:23,037 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:31:23,051 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 13 ms
2019-05-16 20:31:23,086 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 7.235 seconds (JVM running for 8.183)
2019-05-16 20:31:24,434 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:31:53,052 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"e4deb576-8673-42b8-bf91-7bbaaf69bb3d","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key 385c98e9-6330-42f0-b4fb-c0d524497d41 to cache ApMs
2019-05-16 20:31:56,238 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:32:02,017 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 20:32:02,186 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_ec5ace250bb776e508a216227b9eaed0;;
2019-05-16 20:33:01,424 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 16534 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:33:01,426 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:33:04,829 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:33:05,703 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:33:05,715 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:33:05.238Z' ('2019-05-16T23:33:05.238+03:00' local time)
2019-05-16 20:33:05,943 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]
2019-05-16 20:33:05,943 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]
2019-05-16 20:33:05,944 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]
2019-05-16 20:33:05,944 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]
2019-05-16 20:33:05,945 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]
2019-05-16 20:33:06,514 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:33:07,045 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3c09a350, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@592a1882, org.springframework.security.web.context.SecurityContextPersistenceFilter@33ebe4f0, org.springframework.security.web.header.HeaderWriterFilter@5b665a30, org.springframework.security.web.authentication.logout.LogoutFilter@59baf2c7, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7282af25]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7661e474]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@20ffb8d5]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@307c59ea]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@57e03347]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29147c12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a2a7492, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48368a08, org.springframework.security.web.session.SessionManagementFilter@75ed7512, org.springframework.security.web.access.ExceptionTranslationFilter@5fd18419, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1209a0f]
2019-05-16 20:33:07,156 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:33:07,158 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:33:07,184 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2019-05-16 20:33:07,234 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.256 seconds (JVM running for 7.05)
2019-05-16 20:33:08,573 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:33:37,076 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_ec5ace250bb776e508a216227b9eaed0;;
2019-05-16 20:33:59,156 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-6] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 20:33:59,179 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_544a1aee5aea39361c920d97a35920cf;;
2019-05-16 20:35:27,723 ERROR org.thymeleaf.TemplateEngine [http-nio-8080-exec-10] [THYMELEAF][http-nio-8080-exec-10] Exception processing template "ap/samlSuccess": Error resolving template [ap/samlSuccess], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [ap/samlSuccess], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 20:35:27,731 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [ap/samlSuccess], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [ap/samlSuccess], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 20:39:59,171 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 16857 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:39:59,181 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 20:40:05,703 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 20:40:05,756 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 20:40:05,814 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 20:40:05,814 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 20:40:05,830 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 20:40:06,093 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 20:40:06,095 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6793 ms
2019-05-16 20:40:07,237 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:40:07,280 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:40:06.763Z' ('2019-05-16T23:40:06.763+03:00' local time)
2019-05-16 20:40:07,653 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 16922 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:40:07,655 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:40:07,771 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5f1f0ee6]
2019-05-16 20:40:07,772 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3eff6846]
2019-05-16 20:40:07,773 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@45311a99]
2019-05-16 20:40:07,774 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@64eeddd8]
2019-05-16 20:40:07,774 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@48692405]
2019-05-16 20:40:08,114 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:40:08,937 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:40:09,862 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7c9ea1d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10830d50, org.springframework.security.web.context.SecurityContextPersistenceFilter@60b4d934, org.springframework.security.web.header.HeaderWriterFilter@44da745f, org.springframework.security.web.authentication.logout.LogoutFilter@438c0aaf, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@5f1f0ee6]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@3eff6846]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@45311a99]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@64eeddd8]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@48692405]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41abee65, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e406cbe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e3dc24f, org.springframework.security.web.session.SessionManagementFilter@574f9e36, org.springframework.security.web.access.ExceptionTranslationFilter@6b630d4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5af56240]
2019-05-16 20:40:10,042 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 20:40:10,092 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 20:40:10,109 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 12.146 seconds (JVM running for 12.616)
2019-05-16 20:40:12,688 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:40:13,628 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:40:13,643 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:40:13.122Z' ('2019-05-16T23:40:13.122+03:00' local time)
2019-05-16 20:40:13,959 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@781dbe44]
2019-05-16 20:40:13,959 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7d66a126]
2019-05-16 20:40:13,960 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1132baa3]
2019-05-16 20:40:13,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2fdf22f7]
2019-05-16 20:40:13,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a2546d6]
2019-05-16 20:40:14,546 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:40:15,214 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@520a95ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30afb481, org.springframework.security.web.context.SecurityContextPersistenceFilter@844e66d, org.springframework.security.web.header.HeaderWriterFilter@5b3518e1, org.springframework.security.web.authentication.logout.LogoutFilter@191f4d65, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@781dbe44]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@7d66a126]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@1132baa3]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@2fdf22f7]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a2546d6]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26a45089, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33e50ff2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c573229, org.springframework.security.web.session.SessionManagementFilter@3a88f6fb, org.springframework.security.web.access.ExceptionTranslationFilter@2e7bb00e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@595814a1]
2019-05-16 20:40:15,342 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:40:15,343 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:40:15,360 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 16 ms
2019-05-16 20:40:15,396 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 8.491 seconds (JVM running for 9.952)
2019-05-16 20:40:17,044 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:40:43,523 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-16 20:40:43,523 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-05-16 20:40:43,537 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2019-05-16 20:40:43,568 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2019-05-16 20:40:43,570 WARN org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Generated default entity base URL http://localhost:8080 based on values in the first server request. Please set property entityBaseURL on MetadataGenerator bean to fixate the value.
2019-05-16 20:40:43,615 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2019-05-16 20:40:46,182 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"0e9bf97f-a1b8-45b8-9e17-f52eb881378c","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key bea485c3-6c03-4058-a918-44ad1b50314f to cache ApMs
2019-05-16 20:40:47,354 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:40:52,475 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 20:40:52,621 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_544a1aee5aea39361c920d97a35920cf;;
2019-05-16 20:52:11,860 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 17323 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:52:11,868 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 20:52:15,206 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 20:52:15,235 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 20:52:15,252 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 20:52:15,253 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 20:52:15,268 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 20:52:15,432 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 20:52:15,433 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3458 ms
2019-05-16 20:52:16,303 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:52:16,319 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:52:15.852Z' ('2019-05-16T23:52:15.852+03:00' local time)
2019-05-16 20:52:16,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4e5364a3]
2019-05-16 20:52:16,571 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@43756cb]
2019-05-16 20:52:16,571 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@720c8f80]
2019-05-16 20:52:16,572 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@45dc7be]
2019-05-16 20:52:16,572 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@12266084]
2019-05-16 20:52:16,725 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:52:17,199 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:52:17,674 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@77a9ac36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da32baf, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f7b8ae1, org.springframework.security.web.header.HeaderWriterFilter@58afecfd, org.springframework.security.web.authentication.logout.LogoutFilter@62f7d7bd, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4e5364a3]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@43756cb]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@720c8f80]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@45dc7be]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@12266084]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fa6fb7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73d8c8d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e4af370, org.springframework.security.web.session.SessionManagementFilter@3e63bd6b, org.springframework.security.web.access.ExceptionTranslationFilter@2c4be45f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d4d0a14]
2019-05-16 20:52:17,743 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 20:52:17,803 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 20:52:17,815 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.696 seconds (JVM running for 7.352)
2019-05-16 20:52:33,912 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 17418 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:52:33,914 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:52:37,535 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:52:38,408 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:52:38,422 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:52:37.976Z' ('2019-05-16T23:52:37.976+03:00' local time)
2019-05-16 20:52:38,724 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2edb2f8b]
2019-05-16 20:52:38,725 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@733f1395]
2019-05-16 20:52:38,725 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@21dea711]
2019-05-16 20:52:38,725 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7772d266]
2019-05-16 20:52:38,726 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@a21c74]
2019-05-16 20:52:39,301 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:52:39,929 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@39a7eca5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45bd4753, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ab33ca8, org.springframework.security.web.header.HeaderWriterFilter@37cfda1c, org.springframework.security.web.authentication.logout.LogoutFilter@67e6eb52, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2edb2f8b]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@733f1395]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@21dea711]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7772d266]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@a21c74]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21e484b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ce655b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@156cfa20, org.springframework.security.web.session.SessionManagementFilter@5f45bc8e, org.springframework.security.web.access.ExceptionTranslationFilter@26a45089, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30afb481]
2019-05-16 20:52:40,084 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:52:40,084 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:52:40,098 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 13 ms
2019-05-16 20:52:40,132 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.806 seconds (JVM running for 7.712)
2019-05-16 20:52:41,555 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 20:53:14,941 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-16 20:53:14,941 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2019-05-16 20:53:14,951 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 10 ms
2019-05-16 20:53:14,973 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] No default metadata configured, generating with default values, please pre-configure metadata for production use
2019-05-16 20:53:14,973 WARN org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Generated default entity base URL http://localhost:8080 based on values in the first server request. Please set property entityBaseURL on MetadataGenerator bean to fixate the value.
2019-05-16 20:53:15,018 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-2] Created default metadata for system with entityID: esmoSamlClient
2019-05-16 20:53:18,408 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-2] Put '{"code":"OK","sessionData":{"sessionId":"9623296a-62e5-46fe-88de-417c9aed24b5","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key b62f9683-b3af-4e9f-823f-4371c03d975f to cache ApMs
2019-05-16 20:53:20,805 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 20:53:26,139 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 20:53:26,308 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_544a1aee5aea39361c920d97a35920cf;;
2019-05-16 20:53:44,777 ERROR org.thymeleaf.TemplateEngine [http-nio-8080-exec-4] [THYMELEAF][http-nio-8080-exec-4] Exception processing template "saml/123": Error resolving template [saml/123], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/123], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 20:53:44,780 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/123], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/123], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 20:59:33,823 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on nikos-Lenovo-V310-15IKB with PID 17658 (/home/nikos/NetBeansProjects/ESMO-AP-TEST/target/classes started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:59:33,830 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-05-16 20:59:37,068 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2019-05-16 20:59:37,094 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2019-05-16 20:59:37,114 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-05-16 20:59:37,115 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-05-16 20:59:37,128 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/lib/jvm/java-8-oracle/jre/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/i386::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-05-16 20:59:37,283 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-05-16 20:59:37,284 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3354 ms
2019-05-16 20:59:38,148 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:59:38,170 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:59:37.679Z' ('2019-05-16T23:59:37.679+03:00' local time)
2019-05-16 20:59:38,449 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2248d140]
2019-05-16 20:59:38,450 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1b485c8b]
2019-05-16 20:59:38,451 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3ea2f72e]
2019-05-16 20:59:38,452 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47e60b71]
2019-05-16 20:59:38,453 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@51869ad6]
2019-05-16 20:59:38,660 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:59:39,006 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:59:39,398 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@71668a67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cb6abc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ae16aa, org.springframework.security.web.header.HeaderWriterFilter@333a2df2, org.springframework.security.web.authentication.logout.LogoutFilter@cd93621, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@2248d140]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@1b485c8b]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3ea2f72e]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@47e60b71]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@51869ad6]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3051e476, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67f266bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20e48e63, org.springframework.security.web.session.SessionManagementFilter@8c18bde, org.springframework.security.web.access.ExceptionTranslationFilter@29dfc68f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67a3394c]
2019-05-16 20:59:39,486 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2019-05-16 20:59:39,528 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2019-05-16 20:59:39,533 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.443 seconds (JVM running for 6.967)
2019-05-16 20:59:48,138 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos-Lenovo-V310-15IKB with PID 17750 (started by nikos in /home/nikos/NetBeansProjects/ESMO-AP-TEST)
2019-05-16 20:59:48,186 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2019-05-16 20:59:51,695 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2019-05-16 20:59:52,669 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 20:59:52,692 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T20:59:52.148Z' ('2019-05-16T23:59:52.148+03:00' local time)
2019-05-16 20:59:52,969 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6d969330]
2019-05-16 20:59:52,970 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4861cca9]
2019-05-16 20:59:52,970 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6c8f4bc7]
2019-05-16 20:59:52,970 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@714e861f]
2019-05-16 20:59:52,971 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@28989415]
2019-05-16 20:59:53,659 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-05-16 20:59:54,387 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@4948daec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@502c2278, org.springframework.security.web.context.SecurityContextPersistenceFilter@74d22ddd, org.springframework.security.web.header.HeaderWriterFilter@5c8ab9de, org.springframework.security.web.authentication.logout.LogoutFilter@29147c12, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6d969330]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4861cca9]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6c8f4bc7]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@714e861f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@28989415]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b3518e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75ed7512, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1209a0f, org.springframework.security.web.session.SessionManagementFilter@2e7bb00e, org.springframework.security.web.access.ExceptionTranslationFilter@18dd7767, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c5c7cc4]
2019-05-16 20:59:54,524 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2019-05-16 20:59:54,524 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2019-05-16 20:59:54,540 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 15 ms
2019-05-16 20:59:54,581 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 6.946 seconds (JVM running for 7.825)
2019-05-16 20:59:55,977 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-16 21:00:54,255 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-16 21:00:54,255 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2019-05-16 21:00:54,266 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2019-05-16 21:00:54,293 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2019-05-16 21:00:54,294 WARN org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Generated default entity base URL http://localhost:8080 based on values in the first server request. Please set property entityBaseURL on MetadataGenerator bean to fixate the value.
2019-05-16 21:00:54,326 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2019-05-16 21:00:55,224 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-1] Put '{"code":"OK","sessionData":{"sessionId":"b16ef318-c178-486f-a1fb-0d8666a23ebc","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}' under key bf51408b-0fbe-4c76-8268-0dac72cc59e0 to cache ApMs
2019-05-16 21:00:57,578 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;;;
2019-05-16 21:01:03,717 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2019-05-16 21:01:03,861 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNResponse;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;https://idp.aegean.gr/idp/shibboleth;_544a1aee5aea39361c920d97a35920cf;;
2019-05-16 21:01:03,888 INFO com.google.code.ssm.spring.SSMCache [http-nio-8080-exec-4] Cache hit. Get by key bf51408b-0fbe-4c76-8268-0dac72cc59e0 and type class java.lang.String  from cache ApMs value '{"code":"OK","sessionData":{"sessionId":"b16ef318-c178-486f-a1fb-0d8666a23ebc","sessionVariables":{"authenticationSet":"{\"id\":\"id\",\"type\":\"Response\",\"issuer\":\"issuer\",\"recipient\":\"recipient\",\"attributes\":[{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"TRIANTAFYLLOU\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"NIKOLAOS\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth\",\"friendlyName\":\"DateOfBirth\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"1983-10-05\"]},{\"name\":\"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":\"UTF-8\",\"language\":\"N/A\",\"isMandatory\":true,\"values\":[\"CA/CA/Cph123456\"]}],\"properties\":{\"NameID\":\"CA/CA/Cph123456\",\"levelOfAssurance\":\"http://eidas.europa.eu/LoA/low\"},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":{\"code\":\"OK\",\"subcode\":null,\"message\":null}}","apRequest":" { \"issuer\" : \"https://uaegen.gr/ap/123/metadata.xml\", \"type\" : \"Response\", \"recipient\" : \"https://esmo.uji.es/gw/saml/sp/metadata.xml\", \"id\" : \"6c0f70a8-f32b-4535-b5f6-0d596c52813a\", \"status\": { \"code\": \"OK\", \"subcode\": \"200\", \"message\": \"IMOKUROK\" }, \"attributes\" : [ { \"name\":\"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonPrimaryAffiliation\", \"friendlyName\":\"eduPersonPrimaryAffiliation\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"student\"] }, { \"name\":\"https://wiki.refeds.org/download/attachments/1606048/schac-20150413-1.5.0.schema.txt?version=1&modificationDate=1429044813839&api=v2#schacHomeOrganization\", \"friendlyName\":\"schacHomeOrganization\", \"encoding\":\"UTF-8\", \"language\":null, \"isMandatory\":false, \"values\": [\"aegean.gr\"] } ], \"properties\" :  { \"inResponseTo\":\"9c0f30a8-f32b-4636-b5f6-0d596c42424a\" }  }","spRequest":"{\"id\":\"_d645d111cf100dfa46ace16ed3b208f0f2e867db83\",\"type\":\"Request\",\"issuer\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"recipient\":null,\"inResponseTo\":null,\"loa\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"notBefore\":\"2019-03-05T15:11:41Z\",\"notAfter\":\"2019-03-05T15:16:41Z\",\"status\":{\"code\":null,\"subcode\":null,\"message\":null},\"attributes\":[{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/PersonIdentifier\",\"friendlyName\":\"PersonIdentifier\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentGivenName\",\"friendlyName\":\"FirstName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null},{\"name\":\"http:\\/\\/eidas.europa.eu\\/attributes\\/naturalperson\\/CurrentFamilyName\",\"friendlyName\":\"FamilyName\",\"encoding\":null,\"language\":null,\"isMandatory\":true,\"values\":null}],\"properties\":{\"SAML_RelayState\":\"\",\"SAML_RemoteSP_RequestId\":\"_193600a923e1959d375e21fb3d216879\",\"SAML_ForceAuthn\":true,\"SAML_isPassive\":false,\"SAML_NameIDFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"SAML_AllowCreate\":\"true\",\"SAML_ConsumerURL\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php?aaaa=1&bbbb=2\",\"SAML_Binding\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"EIDAS_ProviderName\":\"ojetecalor_uojetecalor\",\"EIDAS_IdFormat\":\"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\",\"EIDAS_SPType\":\"public\",\"EIDAS_Comparison\":\"minimum\",\"EIDAS_LoA\":\"http:\\/\\/eidas.europa.eu\\/LoA\\/low\",\"EIDAS_country\":null}}","spMetaData":"{\"entityId\":\"https:\\/\\/clave.sir2.rediris.es\\/module.php\\/saml\\/sp\\/saml2-acs.php\\/q2891006e_ea0002678\",\"defaultDisplayName\":null,\"displayNames\":null,\"logo\":null,\"location\":null,\"protocol\":null,\"claims\":null,\"microservice\":[\"SAMLms_0001\"],\"encryptResponses\":false,\"supportedEncryptionAlg\":[null],\"signResponses\":null,\"supportedSigningAlg\":[null],\"endpoints\":[{\"type\":\"AssertionConsumerService\",\"method\":\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\",\"url\":\"http:\\/\\/lab9054.inv.uji.es\\/~paco\\/clave\\/secure.php\"}],\"securityKeys\":[{\"keyType\":\"X509Certificate\",\"usage\":\"encryption\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"},{\"keyType\":\"X509Certificate\",\"usage\":\"signing\",\"key\":\"MIIDODCCAqGgAwIBAgIJAMqU+wr6z\\/l5MA0GCSqGSIb3DQEBCwUAMIG0MRUwEwYKCZImiZPyLGQBGRYFY2xhdmUxFDASBgoJkiaJk\\/IsZAEZFgRzaXIyMRcwFQYKCZImiZPyLGQBGRYHcmVkaXJpczESMBAGCgmSJomT8ixkARkWAmVzMR4wHAYDVQQKDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMxGDAWBgNVBAsMD0NlcnRpZmljYWRvIFNQVDEeMBwGA1UEAwwVY2xhdmUuc2lyMi5yZWRpcmlzLmVzMB4XDTE1MDkwMjExNTI0MVoXDTI1MDkwMTExNTI0MVowgbQxFTATBgoJkiaJk\\/IsZAEZFgVjbGF2ZTEUMBIGCgmSJomT8ixkARkWBHNpcjIxFzAVBgoJkiaJk\\/IsZAEZFgdyZWRpcmlzMRIwEAYKCZImiZPyLGQBGRYCZXMxHjAcBgNVBAoMFWNsYXZlLnNpcjIucmVkaXJpcy5lczEYMBYGA1UECwwPQ2VydGlmaWNhZG8gU1BUMR4wHAYDVQQDDBVjbGF2ZS5zaXIyLnJlZGlyaXMuZXMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAOtBus8tyx2JFH4ILKRfvnJ+Eyb0UG1wOZm0hMutS0MvNQuvBZVytR8lVMFqlRX7U1+FP6O10c2GDniuom3v01uq2guHlu8omR3Tj54ySJf4y7m4b42i8iU+uy3ZK7voPHcyB\\/zKEDnDxVc5KmtioLuk\\/3M9Ofz+Xsed3yCCfMb1AgMBAAGjUDBOMB0GA1UdDgQWBBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAfBgNVHSMEGDAWgBSSe7SJPTtSLi+ObAQD\\/8QhvORUPzAMBgNVHRMEBTADAQH\\/MA0GCSqGSIb3DQEBCwUAA4GBAF7Md4GMmPl92hUBq1LOOM4Jl6J\\/nHSYLkb3SYvQUyiHOcsU2NaXCg6QlrJf9T+kG3XdAv550cNhLtkbiF2stnQByX1OHPY9kIudyQ3\\/c7DHFRfi3kkBzL4T1AGdn9PvzpQGtDL3owLsI3H5smfhA8ApogJkB5C7gzj6U9m1ZAYz\"}],\"otherData\":{\"dialect\":\"eidas\",\"subdialect\":\"eidas\",\"spApplication\":\"q12345678a_ea0004242\",\"issuer\":null,\"sign.logout\":null,\"redirect.sign\":null,\"redirect.validate\":null}}","idpRequest":"{\"id\":\"id\",\"type\":\"Request\",\"issuer\":\"ACMms001\",\"recipient\":\"IDPms001\",\"attributes\":[{\"name\":\"someURI\",\"friendlyName\":\"CurrentFamilyName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]},{\"name\":\"someURI\",\"friendlyName\":\"CurrentGivenName\",\"encoding\":\"UTF-8\",\"language\":\"en\",\"isMandatory\":true,\"values\":[null]}],\"properties\":{},\"inResponseTo\":null,\"loa\":\"low\",\"notBefore\":null,\"notAfter\":null,\"status\":null}"}},"additionalData":null,"error":null}'
2019-05-16 21:01:07,628 ERROR org.thymeleaf.TemplateEngine [http-nio-8080-exec-4] [THYMELEAF][http-nio-8080-exec-4] Exception processing template "saml/bf51408b-0fbe-4c76-8268-0dac72cc59e0": Error resolving template [saml/bf51408b-0fbe-4c76-8268-0dac72cc59e0], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/bf51408b-0fbe-4c76-8268-0dac72cc59e0], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 21:01:07,634 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/bf51408b-0fbe-4c76-8268-0dac72cc59e0], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [saml/bf51408b-0fbe-4c76-8268-0dac72cc59e0], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-16 23:59:38,643 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] New metadata succesfully loaded for 'https://idp.aegean.gr/idp/shibboleth'
2019-05-16 23:59:38,647 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [Timer-0] Next refresh cycle for metadata provider 'https://idp.aegean.gr/idp/shibboleth' will occur on '2019-05-16T23:59:38.415Z' ('2019-05-17T02:59:38.415+03:00' local time)
