2020-01-14 00:38:38,203 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-10] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 00:38:57,756 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-2] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 00:38:57,758 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-2] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-14 00:38:58,611 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 00:59:39,471 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:00:02,581 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-7] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 01:00:02,582 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-7] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-14 01:00:03,261 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:00:16,678 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-10] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 01:00:16,679 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-10] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/grap/saml/SSO'
2020-01-14 01:00:17,431 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:00:21,426 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:00:35,521 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-5] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 01:00:35,522 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-5] SAML message intended destination endpoint 'https://02f4f67f.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/grap/saml/SSO'
2020-01-14 01:00:36,205 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:19:42,869 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 01:19:51,344 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 86793 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 01:19:51,348 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 01:19:55,088 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 01:19:55,134 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 01:19:55,169 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 01:19:55,206 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 01:19:55,207 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 01:19:55,223 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 01:19:55,362 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 01:19:55,363 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3939 ms
2020-01-14 01:19:56,040 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 01:19:56,064 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T03:19:55.749Z' ('2020-01-14T04:19:55.749+01:00' local time)
2020-01-14 01:19:56,195 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 01:19:56,209 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 01:19:56,210 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 01:19:56,211 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 01:19:56,212 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 01:19:56,214 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 01:19:56,419 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7417c188]
2020-01-14 01:19:56,420 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@b409716]
2020-01-14 01:19:56,421 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3b889d98]
2020-01-14 01:19:56,421 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@31c92244]
2020-01-14 01:19:56,422 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@787d05db]
2020-01-14 01:19:56,568 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 01:19:56,933 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 01:19:57,408 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7f2c80ba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ad44ba2, org.springframework.security.web.context.SecurityContextPersistenceFilter@45ae17a, org.springframework.security.web.header.HeaderWriterFilter@e3ac11e, org.springframework.security.web.authentication.logout.LogoutFilter@686b66e9, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@7417c188]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@b409716]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@3b889d98]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@31c92244]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@787d05db]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34fcb1ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ac8d589, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68556409, org.springframework.security.web.session.SessionManagementFilter@bbbcbdd, org.springframework.security.web.access.ExceptionTranslationFilter@24258553, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25afe30b]
2020-01-14 01:19:57,496 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 01:19:57,817 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 01:19:57,824 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 01:19:57,829 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 7.263 seconds (JVM running for 12.256)
2020-01-14 01:34:36,501 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 01:34:44,457 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 89696 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 01:34:44,462 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 01:34:47,711 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 01:34:47,748 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 01:34:47,767 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 01:34:47,786 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 01:34:47,787 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 01:34:47,809 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 01:34:47,930 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 01:34:47,930 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3398 ms
2020-01-14 01:34:48,598 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 01:34:48,619 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T03:34:48.283Z' ('2020-01-14T04:34:48.283+01:00' local time)
2020-01-14 01:34:48,728 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 01:34:48,733 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 01:34:48,733 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 01:34:48,734 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 01:34:48,734 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 01:34:48,735 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 01:34:48,883 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3871352a]
2020-01-14 01:34:48,884 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@12fe8142]
2020-01-14 01:34:48,884 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@49a5415d]
2020-01-14 01:34:48,885 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7441c2f7]
2020-01-14 01:34:48,885 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@55535080]
2020-01-14 01:34:49,000 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 01:34:49,287 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 01:34:49,666 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3718df9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5545c4a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f5f981f, org.springframework.security.web.header.HeaderWriterFilter@39e50a10, org.springframework.security.web.authentication.logout.LogoutFilter@286cb4cb, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@3871352a]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@12fe8142]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@49a5415d]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7441c2f7]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@55535080]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a71c99e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53f4bcd9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b79f21, org.springframework.security.web.session.SessionManagementFilter@2e248e75, org.springframework.security.web.access.ExceptionTranslationFilter@57c895a7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53e34d55]
2020-01-14 01:34:49,726 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 01:34:50,024 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 01:34:50,032 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 01:34:50,035 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 6.762 seconds (JVM running for 11.046)
2020-01-14 01:34:51,535 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 01:34:51,536 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 01:34:51,548 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2020-01-14 01:34:51,566 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 01:34:51,595 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 01:34:51,665 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 01:34:52,553 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:34:53,827 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:35:05,973 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-5] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 01:35:06,805 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:36:13,733 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-14 01:36:13,739 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-14 01:36:13,740 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-8] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-14 01:36:13,756 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: java.base/[Ljava.lang.Object; cannot be cast to java.base/[Ljava.lang.String;] with root cause
java.lang.ClassCastException: java.base/[Ljava.lang.Object; cannot be cast to java.base/[Ljava.lang.String;
	at esmo.test.ap.apms.service.impl.EsmoMetadataServiceImpl.getMetadata(EsmoMetadataServiceImpl.java:73)
	at esmo.test.ap.apms.controllers.SamlControllers.queryAp(SamlControllers.java:126)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:844)
2020-01-14 01:36:14,432 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 01:37:57,398 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-14 01:37:57,400 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-14 01:37:57,401 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-14 01:37:57,543 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: java.base/[Ljava.lang.Object; cannot be cast to java.base/[Ljava.lang.String;] with root cause
java.lang.ClassCastException: java.base/[Ljava.lang.Object; cannot be cast to java.base/[Ljava.lang.String;
	at esmo.test.ap.apms.service.impl.EsmoMetadataServiceImpl.getMetadata(EsmoMetadataServiceImpl.java:73)
	at esmo.test.ap.apms.controllers.SamlControllers.queryAp(SamlControllers.java:126)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)
	at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)
	at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:844)
2020-01-14 01:37:58,396 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:08:53,103 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 02:08:59,685 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 96340 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 02:08:59,688 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 02:09:02,476 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 02:09:02,513 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 02:09:02,540 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 02:09:02,562 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 02:09:02,563 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 02:09:02,582 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 02:09:02,710 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 02:09:02,710 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2966 ms
2020-01-14 02:09:04,331 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 02:09:04,361 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T04:09:03.311Z' ('2020-01-14T05:09:03.311+01:00' local time)
2020-01-14 02:09:04,517 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 02:09:04,523 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 02:09:04,525 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 02:09:04,526 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 02:09:04,527 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 02:09:04,528 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 02:09:04,740 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4d89ecc5]
2020-01-14 02:09:04,741 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@51d88ba3]
2020-01-14 02:09:04,741 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7652a36e]
2020-01-14 02:09:04,742 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4ee08ce]
2020-01-14 02:09:04,742 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@38edd15c]
2020-01-14 02:09:04,869 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 02:09:05,206 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 02:09:05,636 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@4be65418, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d547f86, org.springframework.security.web.context.SecurityContextPersistenceFilter@71caf798, org.springframework.security.web.header.HeaderWriterFilter@49bceb53, org.springframework.security.web.authentication.logout.LogoutFilter@4aa48185, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@4d89ecc5]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@51d88ba3]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7652a36e]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4ee08ce]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@38edd15c]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c535ac6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@274a8459, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a16d709, org.springframework.security.web.session.SessionManagementFilter@180de537, org.springframework.security.web.access.ExceptionTranslationFilter@6364e87e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32249fc9]
2020-01-14 02:09:05,706 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 02:09:06,097 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 02:09:06,104 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 02:09:06,109 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 7.069 seconds (JVM running for 10.492)
2020-01-14 02:09:07,527 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 02:09:07,527 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 02:09:07,537 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 9 ms
2020-01-14 02:09:07,551 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 02:09:07,590 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 02:09:07,730 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-14 02:09:07,736 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-14 02:09:07,737 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-14 02:09:07,765 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-14 02:09:08,264 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-3] Bitconnect!
2020-01-14 02:09:08,396 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-14 02:09:28,784 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 02:09:29,980 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:37:44,660 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:37:51,722 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:38:24,783 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:38:27,513 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 02:38:32,245 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-9] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 19:41:12,650 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-14 19:41:12,663 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-14 19:41:12,665 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-14 19:41:12,699 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-2] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-14 19:41:13,123 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-3] Bitconnect!
2020-01-14 19:41:13,140 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-3] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-14 19:41:57,229 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-5] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 19:41:57,230 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-5] SAML message intended destination endpoint 'https://8dd86374.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/saml/SSO'
2020-01-14 19:41:57,925 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 19:42:26,486 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 19:43:14,304 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 12358 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 19:43:14,308 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 19:43:17,121 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 19:43:17,152 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:43:17,169 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 19:43:17,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 19:43:17,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 19:43:17,209 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 19:43:17,307 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 19:43:17,308 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2938 ms
2020-01-14 19:43:18,909 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 19:43:18,933 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T21:43:17.875Z' ('2020-01-14T22:43:17.875+01:00' local time)
2020-01-14 19:43:19,043 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 19:43:19,046 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 19:43:19,047 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 19:43:19,048 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 19:43:19,048 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 19:43:19,049 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 19:43:19,177 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@23e68e02]
2020-01-14 19:43:19,178 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@653ccf09]
2020-01-14 19:43:19,178 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55d8c905]
2020-01-14 19:43:19,179 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@473d96ed]
2020-01-14 19:43:19,179 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4d4df157]
2020-01-14 19:43:19,293 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 19:43:19,591 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 19:43:20,051 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@3a90d63d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ffc15e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e14928a, org.springframework.security.web.header.HeaderWriterFilter@298a6d1, org.springframework.security.web.authentication.logout.LogoutFilter@4ecfb009, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@23e68e02]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@653ccf09]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@55d8c905]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@473d96ed]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4d4df157]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b2b596, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eecabbb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@402648f7, org.springframework.security.web.session.SessionManagementFilter@69b684b6, org.springframework.security.web.access.ExceptionTranslationFilter@f81cf25, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5fb45953]
2020-01-14 19:43:20,107 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:43:20,477 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 19:43:20,486 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 19:43:20,491 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 7.027 seconds (JVM running for 11.244)
2020-01-14 19:44:54,643 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 19:45:21,387 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 12832 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 19:45:21,391 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 19:45:24,176 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 19:45:24,206 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:45:24,228 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 19:45:24,248 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 19:45:24,251 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 19:45:24,269 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 19:45:24,381 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 19:45:24,382 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2939 ms
2020-01-14 19:45:24,966 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 19:45:24,991 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T21:45:24.704Z' ('2020-01-14T22:45:24.704+01:00' local time)
2020-01-14 19:45:25,091 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 19:45:25,094 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 19:45:25,095 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 19:45:25,095 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 19:45:25,095 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 19:45:25,096 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 19:45:25,250 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@271f8360]
2020-01-14 19:45:25,251 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@76a57bd1]
2020-01-14 19:45:25,252 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6f42f369]
2020-01-14 19:45:25,252 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3d6de781]
2020-01-14 19:45:25,252 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@335f5969]
2020-01-14 19:45:25,380 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 19:45:25,734 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 19:45:26,155 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@363e1a43, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62e059b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@722c1563, org.springframework.security.web.header.HeaderWriterFilter@20386b2e, org.springframework.security.web.authentication.logout.LogoutFilter@6bafd56e, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@271f8360]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@76a57bd1]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@6f42f369]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3d6de781]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@335f5969]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5de62ed1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d13c247, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40e52fd9, org.springframework.security.web.session.SessionManagementFilter@6ba0b8ed, org.springframework.security.web.access.ExceptionTranslationFilter@1b01b80a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12e63cf9]
2020-01-14 19:45:26,212 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:45:26,503 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 19:45:26,513 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 19:45:26,520 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.908 seconds (JVM running for 9.602)
2020-01-14 19:46:34,474 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 19:46:34,475 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 19:46:34,488 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-01-14 19:46:34,504 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 19:46:34,545 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 19:46:34,694 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] SessionID b7215a49-2941-4b54-83fd-7117b09c710e
2020-01-14 19:46:34,703 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Session: 
{id=_394a55a94873c15144a62678dafed1573503f4a6ab, type=Request, issuer=https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678, recipient=null, inResponseTo=null, loa=null, notBefore=2019-12-17T11:50:54Z, notAfter=2020-12-15T11:55:54Z, status={code=null, subcode=null, message=null}, attributes=[{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID, friendlyName=eduPersonTargetedID, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation, friendlyName=eduPersonScopedAffiliation, encoding=UTF-8, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}, {name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType, friendlyName=schacHomeOrganizationType, encoding=UTF-8, language=null, isMandatory=false, values=null}], properties={SAML_RelayState=, SAML_RemoteSP_RequestId=_d951f7da6fd1cb7d2de7ab4df483098e, SAML_ForceAuthn=true, SAML_isPassive=false, SAML_NameIDFormat=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent, SAML_AllowCreate=true}}

2020-01-14 19:46:34,704 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] Correct data + 
{"id":"_394a55a94873c15144a62678dafed1573503f4a6ab","type":"Request","issuer":"https://clave.sir2.rediris.es/module.php/saml/sp/saml2-acs.php/q2891006e_ea0002678","notBefore":"2019-12-17T11:50:54Z","notAfter":"2020-12-15T11:55:54Z","status":{},"attributes":[{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonTargetedID","friendlyName":"eduPersonTargetedID","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName","friendlyName":"displayName","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn","friendlyName":"cn","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail","friendlyName":"mail","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation","friendlyName":"eduPersonAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonScopedAffiliation","friendlyName":"eduPersonScopedAffiliation","encoding":"UTF-8","isMandatory":"false"},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization","friendlyName":"schacHomeOrganization","encoding":"UTF-8","isMandatory":false},{"name":"https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganizationType","friendlyName":"schacHomeOrganizationType","encoding":"UTF-8","isMandatory":false}],"properties":{"SAML_RelayState":"","SAML_RemoteSP_RequestId":"_d951f7da6fd1cb7d2de7ab4df483098e","SAML_ForceAuthn":true,"SAML_isPassive":false,"SAML_NameIDFormat":"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","SAML_AllowCreate":"true"}}
2020-01-14 19:46:34,744 INFO esmo.test.ap.apms.controllers.SamlControllers [http-nio-8080-exec-1] *************************[AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#displayName, friendlyName=displayName, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#cn, friendlyName=cn, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#mail, friendlyName=mail, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html#eduPersonAffiliation, friendlyName=eduPersonAffiliation, encoding=UTF-8, language=null, isMandatory=false, values=null}, AttributeType{name=https://www.terena.org/activities/tf-emc2/docs/schac/schac-20110705-1.4.1.schema.txt#schacHomeOrganization, friendlyName=schacHomeOrganization, encoding=UTF-8, language=null, isMandatory=false, values=null}]
2020-01-14 19:46:35,159 INFO esmo.test.ap.apms.SamlWithRelayStateEntryPoint [http-nio-8080-exec-2] Bitconnect!
2020-01-14 19:46:35,320 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;anonymousUser;;
2020-01-14 19:46:49,623 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 19:46:49,625 ERROR org.opensaml.common.binding.decoding.BaseSAMLMessageDecoder [http-nio-8080-exec-3] SAML message intended destination endpoint 'https://8dd86374.ngrok.io/saml/SSO' did not match the recipient endpoint 'https://02f4f67f.ngrok.io/saml/SSO'
2020-01-14 19:46:50,143 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-4] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 19:47:19,158 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 19:47:28,158 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 13279 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 19:47:28,163 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 19:47:30,835 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 19:47:30,861 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:47:30,876 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 19:47:30,895 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 19:47:30,896 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 19:47:30,909 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 19:47:31,030 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 19:47:31,030 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2791 ms
2020-01-14 19:47:31,715 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 19:47:31,739 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T21:47:31.395Z' ('2020-01-14T22:47:31.395+01:00' local time)
2020-01-14 19:47:31,839 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 19:47:31,843 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 19:47:31,844 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 19:47:31,845 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 19:47:31,846 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 19:47:31,846 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 19:47:31,989 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6f502d7b]
2020-01-14 19:47:31,990 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@100148c6]
2020-01-14 19:47:31,990 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@61472c70]
2020-01-14 19:47:31,990 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7876d6ca]
2020-01-14 19:47:31,991 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@231a3628]
2020-01-14 19:47:32,101 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 19:47:32,501 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 19:47:32,891 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@578d65aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cf1c72, org.springframework.security.web.context.SecurityContextPersistenceFilter@397e22ae, org.springframework.security.web.header.HeaderWriterFilter@3d27df7a, org.springframework.security.web.authentication.logout.LogoutFilter@588cc28a, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6f502d7b]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@100148c6]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@61472c70]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@7876d6ca]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@231a3628]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40e68e99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f2594f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@384f93fa, org.springframework.security.web.session.SessionManagementFilter@217d305e, org.springframework.security.web.access.ExceptionTranslationFilter@36327d84, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73f89db5]
2020-01-14 19:47:32,954 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:47:33,271 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 19:47:33,278 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 19:47:33,282 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.811 seconds (JVM running for 9.319)
2020-01-14 19:47:51,570 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 19:47:57,620 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 13390 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 19:47:57,624 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 19:48:00,147 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 19:48:00,169 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:48:00,186 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 19:48:00,208 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 19:48:00,209 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 19:48:00,221 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 19:48:00,327 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 19:48:00,327 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2642 ms
2020-01-14 19:48:00,941 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 19:48:00,972 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T21:48:00.653Z' ('2020-01-14T22:48:00.653+01:00' local time)
2020-01-14 19:48:01,051 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 19:48:01,055 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 19:48:01,055 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 19:48:01,056 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 19:48:01,056 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 19:48:01,056 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 19:48:01,206 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@703c50a7]
2020-01-14 19:48:01,206 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@23506535]
2020-01-14 19:48:01,207 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5ad07b91]
2020-01-14 19:48:01,207 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@5500785e]
2020-01-14 19:48:01,208 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@78c011cd]
2020-01-14 19:48:01,332 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 19:48:01,591 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 19:48:01,941 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@8fc5b98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29938e6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@31901741, org.springframework.security.web.header.HeaderWriterFilter@1986e4df, org.springframework.security.web.authentication.logout.LogoutFilter@473121b4, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@703c50a7]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@23506535]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5ad07b91]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@5500785e]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@78c011cd]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@699efcfd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@476dc88f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@430acc73, org.springframework.security.web.session.SessionManagementFilter@63a6e9f0, org.springframework.security.web.access.ExceptionTranslationFilter@5787fb37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49309fcb]
2020-01-14 19:48:01,999 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:48:02,344 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 19:48:02,355 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 19:48:02,359 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.218 seconds (JVM running for 8.187)
2020-01-14 19:48:10,493 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 19:48:10,494 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 19:48:10,506 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2020-01-14 19:48:10,524 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 19:48:10,554 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 19:48:10,629 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 19:48:11,555 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 19:57:36,224 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 19:57:36,845 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 19:58:11,271 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 19:58:18,324 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 15428 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 19:58:18,329 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 19:58:20,808 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 19:58:20,832 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:58:20,849 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 19:58:20,866 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 19:58:20,867 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 19:58:20,881 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 19:58:20,985 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 19:58:20,986 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2600 ms
2020-01-14 19:58:21,611 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 19:58:21,633 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T21:58:21.302Z' ('2020-01-14T22:58:21.302+01:00' local time)
2020-01-14 19:58:21,750 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 19:58:21,757 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 19:58:21,758 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 19:58:21,759 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 19:58:21,760 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 19:58:21,760 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 19:58:21,926 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6d35f013]
2020-01-14 19:58:21,926 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@6a21c22c]
2020-01-14 19:58:21,927 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@46fc5753]
2020-01-14 19:58:21,927 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3c6efdbc]
2020-01-14 19:58:21,927 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4f807b25]
2020-01-14 19:58:22,052 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 19:58:22,362 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 19:58:22,939 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@7d0c0b76, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748be775, org.springframework.security.web.context.SecurityContextPersistenceFilter@d63bee, org.springframework.security.web.header.HeaderWriterFilter@70b19f62, org.springframework.security.web.authentication.logout.LogoutFilter@5fe57b58, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@6d35f013]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@6a21c22c]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@46fc5753]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@3c6efdbc]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4f807b25]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e249c5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15d9fdce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cd452a8, org.springframework.security.web.session.SessionManagementFilter@19e8704, org.springframework.security.web.access.ExceptionTranslationFilter@4234c93e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65fae9a8]
2020-01-14 19:58:23,016 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 19:58:23,241 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 19:58:23,249 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 19:58:23,253 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.598 seconds (JVM running for 9.058)
2020-01-14 19:58:54,903 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 19:58:54,904 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 19:58:54,917 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-01-14 19:58:54,937 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 19:58:54,971 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 19:58:55,050 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 19:58:55,891 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:00:46,159 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 20:00:58,371 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 15965 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 20:00:58,375 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 20:01:00,942 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 20:01:00,964 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:01:00,979 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 20:01:00,997 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 20:01:00,997 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 20:01:01,010 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 20:01:01,130 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 20:01:01,130 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2695 ms
2020-01-14 20:01:01,762 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 20:01:01,785 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T22:01:01.466Z' ('2020-01-14T23:01:01.466+01:00' local time)
2020-01-14 20:01:01,889 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 20:01:01,892 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 20:01:01,893 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 20:01:01,893 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 20:01:01,894 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 20:01:01,894 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 20:01:02,064 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@700dc121]
2020-01-14 20:01:02,065 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4ac28d58]
2020-01-14 20:01:02,066 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7e987e1f]
2020-01-14 20:01:02,066 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4266b3db]
2020-01-14 20:01:02,067 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4d134631]
2020-01-14 20:01:02,182 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 20:01:02,487 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 20:01:02,858 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@64d9f125, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42d67f44, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b2c5a9a, org.springframework.security.web.header.HeaderWriterFilter@7344ea81, org.springframework.security.web.authentication.logout.LogoutFilter@40d04a89, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@700dc121]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4ac28d58]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@7e987e1f]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@4266b3db]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@4d134631]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ad7cb8d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c809148, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@776323d2, org.springframework.security.web.session.SessionManagementFilter@7dc2daff, org.springframework.security.web.access.ExceptionTranslationFilter@5ea817fd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ba5f134]
2020-01-14 20:01:02,918 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:01:03,267 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 20:01:03,280 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 20:01:03,284 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.558 seconds (JVM running for 8.93)
2020-01-14 20:02:39,360 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 20:02:56,574 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 16377 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 20:02:56,578 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 20:02:58,837 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 20:02:58,860 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:02:58,881 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 20:02:58,904 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 20:02:58,905 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 20:02:58,918 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 20:02:59,013 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 20:02:59,014 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2386 ms
2020-01-14 20:02:59,559 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 20:02:59,575 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T22:02:59.309Z' ('2020-01-14T23:02:59.309+01:00' local time)
2020-01-14 20:02:59,647 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 20:02:59,650 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 20:02:59,650 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 20:02:59,651 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 20:02:59,651 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 20:02:59,652 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 20:02:59,810 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@284abb16]
2020-01-14 20:02:59,810 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4022e591]
2020-01-14 20:02:59,811 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5fe04e2d]
2020-01-14 20:02:59,811 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@41c237f5]
2020-01-14 20:02:59,812 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a71537e]
2020-01-14 20:02:59,918 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 20:03:00,218 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 20:03:00,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@543c0a6c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@157dec10, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b4546ab, org.springframework.security.web.header.HeaderWriterFilter@250bdc69, org.springframework.security.web.authentication.logout.LogoutFilter@b7f231c, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@284abb16]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@4022e591]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@5fe04e2d]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@41c237f5]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@3a71537e]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@739f6482, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e553b5c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@196a3535, org.springframework.security.web.session.SessionManagementFilter@7e8223cd, org.springframework.security.web.access.ExceptionTranslationFilter@b8695f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f794f83]
2020-01-14 20:03:00,659 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:03:01,013 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 20:03:01,022 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 20:03:01,026 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 4.943 seconds (JVM running for 7.816)
2020-01-14 20:04:34,495 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-14 20:04:46,025 INFO org.springframework.boot.StartupInfoLogger [main] Starting ApmsApplication on Carloss-MacBook-Pro.local with PID 16759 (/Users/carlosbuendia/Documents/Projects/seal/idp-test/target/classes started by carlosbuendia in /Users/carlosbuendia/Documents/Projects/seal/idp-test)
2020-01-14 20:04:46,030 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-14 20:04:48,506 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8443 (https) 8080 (http)
2020-01-14 20:04:48,531 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:04:48,553 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-14 20:04:48,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-14 20:04:48,572 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2020-01-14 20:04:48,590 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/carlosbuendia/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2020-01-14 20:04:48,717 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-14 20:04:48,718 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2642 ms
2020-01-14 20:04:49,368 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] New metadata succesfully loaded for 'http://idp.oktadev.com/metadata'
2020-01-14 20:04:49,384 INFO org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider [main] Next refresh cycle for metadata provider 'http://idp.oktadev.com/metadata' will occur on '2020-01-14T22:04:49.068Z' ('2020-01-14T23:04:49.068+01:00' local time)
2020-01-14 20:04:49,463 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Using SAMLContextProviderLB implementation of SAMLContextProvider for context provider bean.
2020-01-14 20:04:49,466 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer scheme to https
2020-01-14 20:04:49,467 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer server name to serverName
2020-01-14 20:04:49,467 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer context path to /grap
2020-01-14 20:04:49,468 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting the load balancer port to 443
2020-01-14 20:04:49,468 INFO esmo.test.ap.apms.SamlSecurityConfig [main] Setting whether to include the server port in the request URL to false
2020-01-14 20:04:49,673 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@635f5273]
2020-01-14 20:04:49,674 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@49b2f124]
2020-01-14 20:04:49,675 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4f1701e9]
2020-01-14 20:04:49,676 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@696af99f]
2020-01-14 20:04:49,677 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@27dd6511]
2020-01-14 20:04:49,826 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 127.0.0.1:11211 will be used as memcached addresses
2020-01-14 20:04:50,110 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-14 20:04:50,561 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.saml.metadata.MetadataGeneratorFilter@702070ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37d6b837, org.springframework.security.web.context.SecurityContextPersistenceFilter@29058664, org.springframework.security.web.header.HeaderWriterFilter@70a2c855, org.springframework.security.web.authentication.logout.LogoutFilter@5d873811, FilterChainProxy[Filter Chains: [[ Ant [pattern='/saml/metadata/**'], [org.springframework.security.saml.metadata.MetadataDisplayFilter@635f5273]], [ Ant [pattern='/saml/login/**'], [esmo.test.ap.apms.SamlWithRelayStateEntryPoint@49b2f124]], [ Ant [pattern='/saml/SSO/**'], [org.springframework.security.saml.SAMLProcessingFilter@4f1701e9]], [ Ant [pattern='/saml/logout/**'], [org.springframework.security.saml.SAMLLogoutFilter@696af99f]], [ Ant [pattern='/saml/SingleLogout/**'], [org.springframework.security.saml.SAMLLogoutProcessingFilter@27dd6511]]]], org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cc81b17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c3395aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3865e65a, org.springframework.security.web.session.SessionManagementFilter@120827a7, org.springframework.security.web.access.ExceptionTranslationFilter@39fa0cc2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66952eff]
2020-01-14 20:04:50,632 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["https-jsse-nio-8443"]
2020-01-14 20:04:51,131 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-14 20:04:51,138 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''
2020-01-14 20:04:51,142 INFO org.springframework.boot.StartupInfoLogger [main] Started ApmsApplication in 5.611 seconds (JVM running for 8.614)
2020-01-14 20:05:32,261 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-14 20:05:32,262 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-14 20:05:32,273 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2020-01-14 20:05:32,294 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] No default metadata configured, generating with default values, please pre-configure metadata for production use
2020-01-14 20:05:32,325 INFO org.springframework.security.saml.metadata.MetadataGeneratorFilter [http-nio-8080-exec-1] Created default metadata for system with entityID: esmoSamlClient
2020-01-14 20:05:32,413 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-1] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:05:33,281 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-2] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:05:47,473 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:05:48,091 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-5] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:12:41,261 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-7] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:12:41,905 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:12:43,366 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-10] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:12:43,982 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-1] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:12:45,662 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-3] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:12:46,481 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-4] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:12:57,423 INFO org.opensaml.common.binding.security.SAMLProtocolMessageXMLSignatureSecurityPolicyRule [http-nio-8080-exec-5] SAML protocol message was not signed, skipping XML signature processing
2020-01-14 20:12:58,055 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-6] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
2020-01-14 20:13:30,566 INFO org.springframework.security.saml.log.SAMLDefaultLogger [http-nio-8080-exec-8] AuthNRequest;SUCCESS;0:0:0:0:0:0:0:1;esmoSamlClient;urn:example:idp;;;
